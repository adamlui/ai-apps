// ==UserScript==
// @name                ChatGPT Infinity âˆž
// @name:af             ChatGPT Oneindig âˆž
// @name:ar             Ø¯Ø±Ø¯Ø´Ø©GPT Ø¥Ù†ÙÙŠÙ†ÙŠØªÙŠ âˆž
// @name:az             ChatGPT Sonsuzluq âˆž
// @name:be             ChatGPT Ð‘ÑÑÐºÐ¾Ð½Ñ†Ð°ÑÑ†ÑŒ âˆž
// @name:bg             ChatGPT Ð‘ÐµÐ·ÐºÑ€Ð°Ð¹Ð½Ð¾ÑÑ‚ âˆž
// @name:bn             ChatGPT à¦‡à¦¨à¦«à¦¿à¦¨à¦¿à¦Ÿà¦¿ âˆž
// @name:bo             ChatGPT à½‘à½‚à¼‹à½¦à¾à¾±à½ºà½¦à¼‹à½¡à½¼à½‘à¼‹à½”à¼‹ âˆž
// @name:bs             ChatGPT Beskrajnost âˆž
// @name:ca             ChatGPT Infinit âˆž
// @name:ckb            ChatGPT Ù†Û•Ù¾ÛŽÙ†Ø¯ÛŒÛŒÛ• âˆž
// @name:cs             ChatGPT NekoneÄno âˆž
// @name:cy             ChatGPT Anfeidredd âˆž
// @name:da             ChatGPT Uendelighed âˆž
// @name:de             ChatGPT Unendlichkeit âˆž
// @name:dv             ChatGPT Þ‚ÞªÞˆÞ¦ÞŒÞ¦ Þ„Þ§ÞˆÞ¦Þ‡Þ°Þ–Þ­ÞŽÞ¬Þ‚Þ° âˆž
// @name:dz             ChatGPT à½¢à¾©à½ºà½‘à¼‹à½¦à¾’à¾²à½²à½–à¼‹à½‚à½‰à½²à½¦à¼‹ âˆž
// @name:el             ChatGPT Î†Ï€ÎµÎ¹ÏÎ¿ âˆž
// @name:eo             ChatGPT Infinito âˆž
// @name:es             ChatGPT Infinito âˆž
// @name:et             ChatGPT LÃµpmatus âˆž
// @name:eu             ChatGPT Infinitua âˆž
// @name:fa             ChatGPT Ø¨ÛŒâ€ŒÙ†Ù‡Ø§ÛŒØª âˆž
// @name:fi             ChatGPT Ã„Ã¤retÃ¶n âˆž
// @name:fo             ChatGPT Ã“endanlighed âˆž
// @name:fr             ChatGPT Infini âˆž
// @name:fr-CA          ChatGPT Infini âˆž
// @name:gl             ChatGPT Infinito âˆž
// @name:gu             ChatGPT àª…àª¨àª‚àª¤ âˆž
// @name:haw            ChatGPT MÄhina Ê»ole âˆž
// @name:he             ChatGPT ××™× ×¡×•×£ âˆž
// @name:hi             ChatGPT à¤…à¤¨à¤‚à¤¤ âˆž
// @name:hr             ChatGPT Beskrajnost âˆž
// @name:hu             ChatGPT VÃ©gtelensÃ©g âˆž
// @name:hy             ChatGPT Ô±Õ¶Õ¾Õ¥Ö€Õ» âˆž
// @name:id             ChatGPT Infinity âˆž
// @name:is             ChatGPT Ã“endanleiki âˆž
// @name:it             ChatGPT Infinito âˆž
// @name:ja             ChatGPT ç„¡é™ âˆž
// @name:ka             ChatGPT áƒ£áƒ¡áƒáƒ¡áƒ áƒ£áƒšáƒáƒ‘áƒ âˆž
// @name:km             ChatGPT áž¢áž“áž¡áž¶áž‰ âˆž
// @name:kn             ChatGPT à²…à²¨à²‚à²¤ âˆž
// @name:ko             ChatGPT ë¬´í•œ âˆž
// @name:ku             ChatGPT PÃªÅŸangeh âˆž
// @name:ky             ChatGPT Ð˜Ñ‡ÐºÐ¸ âˆž
// @name:la             ChatGPT Infinitas âˆž
// @name:lb             ChatGPT Unendlechkeet âˆž
// @name:lo             ChatGPT àºšà»à»ˆà»„àº›àºªàº¹à»ˆàºˆàº±àºàº‚àº­àº‡àºªàº²àº¡àº«àº§à»ˆàº²àº‡ âˆž
// @name:lt             ChatGPT BegalybÄ— âˆž
// @name:lv             ChatGPT BezgalÄ«ba âˆž
// @name:mk             ChatGPT Ð‘ÐµÑÐºÐ¾Ð½ÐµÑ‡Ð½Ð¾ÑÑ‚ âˆž
// @name:ml             ChatGPT à´…à´¨à´¨àµà´¤à´¤ âˆž
// @name:mn             ChatGPT Ð¢ÑÐ³Ñˆ Ð±ÑƒÑ âˆž
// @name:mt             ChatGPT InfinitÃ  âˆž
// @name:my             ChatGPT á€™á€¼á€„á€ºá€€á€½á€„á€ºá€¸ âˆž
// @name:ne             ChatGPT à¤…à¤¨à¤‚à¤¤ âˆž
// @name:nl             ChatGPT Oneindigheid âˆž
// @name:no             ChatGPT Uendelighet âˆž
// @name:pa             ChatGPT à¨‡à¨¨à¨«à¨¿à¨¨à¨¿à¨Ÿà©€ âˆž
// @name:pl             ChatGPT NieskoÅ„czonoÅ›Ä‡ âˆž
// @name:ps             ChatGPT Ù„Ø§Ù…Ú©Ø§Ù† âˆž
// @name:pt             ChatGPT Infinito âˆž
// @name:pt-BR          ChatGPT Infinito âˆž
// @name:ro             ChatGPT Infinitate âˆž
// @name:ru             ChatGPT Ð‘ÐµÑÐºÐ¾Ð½ÐµÑ‡Ð½Ð¾ÑÑ‚ÑŒ âˆž
// @name:si             ChatGPT à¶…à¶±à¶±à·Šà¶­à¶º âˆž
// @name:sk             ChatGPT NekoneÄno âˆž
// @name:sl             ChatGPT NeskonÄnost âˆž
// @name:so             ChatGPT Qaybtiisa âˆž
// @name:sr             ChatGPT Ð‘ÐµÑÐºÑ€Ð°Ñ˜Ð½Ð¾ÑÑ‚ âˆž
// @name:sv             ChatGPT OÃ¤ndlighet âˆž
// @name:ta             ChatGPT à®®à¯à®Ÿà®¿à®µà®¿à®²à®¿à®°à¯à®¨à¯à®¤à¯ âˆž
// @name:te             ChatGPT à°…à°¨à°‚à°¤à°¤ âˆž
// @name:tg             ChatGPT Ð‘ÐµÐ¾Ò³Ó£ âˆž
// @name:th             ChatGPT à¸­à¸™à¸±à¸™à¸•à¹Œ âˆž
// @name:ti             ChatGPT áˆ˜á‹°áˆ˜áˆ­ âˆž
// @name:tk             ChatGPT Sonsuzluk âˆž
// @name:tr             ChatGPT Sonsuzluk âˆž
// @name:uk             ChatGPT ÐÐµÑÐºÑ–Ð½Ñ‡ÐµÐ½Ð½Ñ–ÑÑ‚ÑŒ âˆž
// @name:ur             ChatGPT Ø¨Û’ Ø§Ù†ØªÛØ§ âˆž
// @name:vi             ChatGPT VÃ´ cÃ¹ng âˆž
// @name:yi             ChatGPT ××™× ×¤×™× ×™×˜×™ âˆž
// @name:zh             ChatGPT æ— é™ âˆž
// @name:zh-CN          ChatGPT æ— é™ âˆž
// @name:zh-HK          ChatGPT ç„¡é™ âˆž
// @name:zh-SG          ChatGPT æ— é™ âˆž
// @name:zh-TW          ChatGPT ç„¡é™ âˆž
// @description         Generate endless answers from all-knowing ChatGPT (in any language!)
// @description:af      Genereer eindelose antwoorde van die alwetende ChatGPT (in enige taal!)
// @description:am      áˆ“á‰ áˆ¬á‰³á‹­ áŠ£á‹­áŠá‰ áˆ­áŠ“ áˆ˜áˆáŠ¥áŠ½á‰² áŠ£áˆˆáŠ¹áˆ áŠ£áˆŽáŠ»á‹Š á‹«áˆáŠ£á‹­á‰µ ChatGPT (á‰ á‰‹áŠ•á‰‹!)
// @description:ar      Ù‚Ù… Ø¨ØªÙˆÙ„ÙŠØ¯ Ø¥Ø¬Ø§Ø¨Ø§Øª Ù„Ø§ Ù†Ù‡Ø§Ø¦ÙŠØ© Ù…Ù† ChatGPT Ø§Ù„Ù…Ø¹Ø±Ù Ø¨ÙƒÙ„ Ø´ÙŠØ¡ (Ø¨Ø£ÙŠ Ù„ØºØ©!)
// @description:az      HÉ™r ÅŸeyi bilÉ™n ChatGPT-dÉ™n sonsuz cavablar yaradÄ±n (hÉ™r hansÄ± bir dil ilÉ™!)
// @description:be      Ð¡Ñ‚Ð²Ð°Ñ€Ñ‹Ñ†Ðµ Ð±ÑÑÐºÐ¾Ð½Ñ†Ñ‹ Ð°Ð´ÐºÐ°Ð·Ñ‹ Ð°Ð´ ÑžÑÐµÐ²ÐµÐ´ÑƒÑ‡Ð°Ð³Ð° ChatGPT (Ð½Ð° Ð»ÑŽÐ±Ð¾Ð¹ Ð¼Ð¾Ð²Ðµ!)
// @description:bem     Pamene mwaposa mafolosho a mÊŒnoze ChatGPT (mu lupiya lwa ndalama!)
// @description:bg      Ð“ÐµÐ½ÐµÑ€Ð¸Ñ€Ð°Ð¹Ñ‚Ðµ Ð±ÐµÐ·ÐºÑ€Ð°Ð¹Ð½Ð¸ Ð¾Ñ‚Ð³Ð¾Ð²Ð¾Ñ€Ð¸ Ð¾Ñ‚ Ð²ÑÐµÐ·Ð½Ð°Ð¹Ð½Ð¸Ñ ChatGPT (Ð½Ð° Ð²ÑÑÐº ÐµÐ·Ð¸Ðº!)
// @description:bn      à¦¸à¦°à§à¦¬à¦œà§à¦ž à¦šà§à¦¯à¦¾à¦Ÿà¦œà¦¿à¦ªà¦¿à¦Ÿà¦¿ à¦¥à§‡à¦•à§‡ à¦…à¦¸à§€à¦® à¦‰à¦¤à§à¦¤à¦° à¦¤à§ˆà¦°à¦¿ à¦•à¦°à§à¦¨ (à¦¯à§‡ à¦•à§‹à¦¨ à¦­à¦¾à¦·à¦¾à¦¯à¦¼!)
// @description:bo      à½–à½Ÿà½¼à½¦à¼‹à½”à¼‹à½–à½¢à¾—à½¼à½‘à¼‹à½”à½ à½²à¼‹ChatGPTà½‚à½²à¼‹à½‚à¾²à½¼à½¦à¼‹à½”à½¢à¼‹à½ à½‚à¾²à½´à½–à¼‹à½ à½‘à½ºà½˜à½¦à¼‹à½–à½¦à¾à¾±à½ºà½‘à¼‹à½˜à½²à¼‹à½ à½¼à½„à½¦à¼‹à½”à¼ (à½£à½¦à¼‹à½¦à¾à½–à½¦à¼‹à½€à¾±à½²à¼‹à½¦à¾à½‘à¼‹à½¡à½²à½‚à¼‹à½‚à½²à¼‹à½¦à¾à½‘à¼‹!)
// @description:bs      GeneriÅ¡ite beskonaÄne odgovore od sveznajuÄ‡eg ChatGPT (na bilo kom jeziku!)
// @description:ca      Genereu respostes infinites des de l'omniscient ChatGPT (en qualsevol idioma!)
// @description:ceb     Sukdagon ang walay katapusan nga mga tubag gikan sa tanan-mahibaw-anong ChatGPT (sa bisan unsang pinulongan!)
// @description:ckb     Ù¾ÛŽØ´Ø¨ÛŒÙ†ÛŒ Ú†Ø§ØªÚ¯Ù¾ØªÛ•Ú©Û• Ø¯ÛŒØ§Ø±ÛŒÛŒÛ•Ú©Ø§Ù†ÛŒ Ù¾ÛŽÚ©Ø±Ø§ÙˆÛ•Ú©Ø§Ù† Ø¨Ù†ÙˆÙˆØ³Û• (Ø¨Û• Ù‡Û•Ø± Ø²Ù…Ø§Ù†ÛŽÚ©ÛŒ Ø¯ÛŒÚ©Û•!)
// @description:cs      Generujte nekoneÄnÃ© odpovÄ›di od vÅ¡evÄ›doucÃ­ho ChatGPT (v jakÃ©mkoli jazyce!)
// @description:cy      Cynhyrchwch atebion diddiwedd o ChatGPT y gÅµr sy'n gwybod popeth (mewn unrhyw iaith!)
// @description:da      Generer endelÃ¸se svar fra den altvidende ChatGPT (pÃ¥ hvilket som helst sprog!)
// @description:de      Generieren Sie endlose Antworten von dem allwissenden ChatGPT (in beliebiger Sprache!)
// @description:dv      Þ‡Þ¬Þ€Þ¬Þ‚Þ‹ÞªÞ†Þ¦Þ—Þ¬Þ‡Þ°ÞˆÞ¬ÞÞ© Þ—Þ¬Þ‡Þ°ÞÞ¨ÞÞ°Þ“Þ¯Þ‚Þ¦ÞÞ° Þ‚Þ¨Þ”Þ¦ÞÞ¦Þ‡Þ¨ÞŠÞ¦Þ‡Þ¨ÞˆÞ¦Þ‚Þ© ÞÞªÞƒÞªÞ†Þ®ÞÞ° ÞŠÞ©Þ€ÞªÞ‚Þ° (Þ†Þ¦Þ‚Þ°Þ‡Þ¬ÞˆÞ¬ÞÞ° Þ€Þ¦Þ‰Þ¦ÞˆÞ¬ÞÞ°!)
// @description:dz      à½†à½‚à½¦à¼‹à½€à¾±à½²à½¦à¼‹à½£à¼‹à½–à½¢à¾Ÿà½ºà½“à¼‹à½‚à½„à¼‹à½¢à½´à½„à¼‹à½‚à½²à¼‹ChatGPTà½‚à½²à¼‹à½šà½¼à½‚à½¦à¼‹à½”à½ à½²à¼‹à½¦à¾à½‘à¼‹à½¡à½²à½‚à¼‹à½‚à¾±à½²à¼‹à½¦à¾à½‘à¼‹à½¡à½²à½‚à¼‹à½–à¾±à½ºà½‘à¼‹à½”à¼ (à½–à¾³à¼‹à½˜à½ à½²à¼‹à½¦à¾à½‘à¼‹à½¡à½²à½‚à¼‹!)
// @description:el      Î”Î·Î¼Î¹Î¿Ï…ÏÎ³Î®ÏƒÏ„Îµ Î±Ï„ÎµÎ»ÎµÎ¯Ï‰Ï„ÎµÏ‚ Î±Ï€Î±Î½Ï„Î®ÏƒÎµÎ¹Ï‚ Î±Ï€ÏŒ Ï„Î¿ Î³Î½ÏŽÏƒÏ„Î· ChatGPT (ÏƒÎµ Î¿Ï€Î¿Î¹Î±Î´Î®Ï€Î¿Ï„Îµ Î³Î»ÏŽÏƒÏƒÎ±!)
// @description:eo      Kreu nesfinaÄµajn respondojn el la Ä‰io-scianta ChatGPT (en ajn lingvo!)
// @description:es      Genera respuestas infinitas desde el ChatGPT omnisciente (Â¡en cualquier idioma!)
// @description:et      Loo lÃµputuid vastuseid kÃµike-teadvast ChatGPT-st (mis tahes keeles!)
// @description:eu      Sortu erantzun infinituak guztiz-arduratsuaren ChatGPT-tik (edozein hizkuntzan!)
// @description:fa      Ù¾Ø§Ø³Ø®â€ŒÙ‡Ø§ÛŒ Ø¨ÛŒâ€ŒÙ¾Ø§ÛŒØ§Ù†ÛŒ Ø±Ø§ Ø§Ø² ChatGPT Ù‡Ù…Ù‡â€ŒØ¯Ø§Ù†Ø§ ØªÙˆÙ„ÛŒØ¯ Ú©Ù†ÛŒØ¯ (Ø¨Ù‡ Ù‡Ø± Ø²Ø¨Ø§Ù†ÛŒ!)
// @description:fi      Luo loputtomia vastauksia kaikkitietÃ¤vÃ¤stÃ¤ ChatGPT:stÃ¤ (millÃ¤ tahansa kielellÃ¤!)
// @description:fo      Skapa endalaus svÃ¸r frÃ¡ altvitandi ChatGPT (Ã¡ hvÃ¸rjum mÃ¡lrÃ¸Ã°!)
// @description:fr      GÃ©nÃ©rez des rÃ©ponses infinies Ã  partir de ChatGPT qui sait tout (dans n'importe quelle langue!)
// @description:fr-CA   GÃ©nÃ©rez des rÃ©ponses infinies Ã  partir de ChatGPT qui sait tout (dans n'importe quelle langue!)
// @description:gd      Cruthaich freagairtean gun crÃ¬och Ã  ChatGPT a tha a' faighneachd gach cÃ il (ann an sam bith cÃ nan!)
// @description:gl      Xere as respostas infinitas do ChatGPT que todo o sabe (en calquera lingua!)
// @description:gu      àªœà«àªžàª¾àª¨àªµàª¾àª¨ ChatGPT àª¥à«€ àª…àª¨àª‚àª¤ àªœàªµàª¾àª¬à«‹ àª‰àª¤à«àªªàª¨ àª•àª°à«‹ (àª•à«‹àªˆ àªªàª£ àª­àª¾àª·àª¾àª®àª¾àª‚!)
// @description:haw     HaleleÊ»a i nÄ Ê»Ålelo pÄlulelo mai ke kupa Ê»ike loa o ChatGPT (i loko o kÄ“lÄ Ê»Ålelo aku aÊ»e!)
// @description:he      ×™×¦×¨×• ×ª×©×•×‘×•×ª ××™× ×¡×•×¤×™×•×ª ×ž×”-ChatGPT ×”×ž×‘×™×Ÿ ×”×›×œ (×‘×›×œ ×©×¤×”!)
// @description:hi      à¤¸à¤­à¥€-à¤œà¤¾à¤¨à¤¨à¥‡à¤µà¤¾à¤²à¥‡ à¤šà¥ˆà¤Ÿà¤œà¥€à¤ªà¥€à¤Ÿà¥€ à¤¸à¥‡ à¤…à¤¨à¤‚à¤¤ à¤‰à¤¤à¥à¤¤à¤°à¥‹à¤‚ à¤•à¤¾ à¤‰à¤¤à¥à¤ªà¤¾à¤¦à¤¨ à¤•à¤°à¥‡à¤‚ (à¤•à¤¿à¤¸à¥€ à¤­à¥€ à¤­à¤¾à¤·à¤¾ à¤®à¥‡à¤‚!)
// @description:hr      Generirajte beskrajne odgovore iz sveznajuÄ‡eg ChatGPT-a (na bilo kojem jeziku!)
// @description:ht      Jenere repons san fen soti nan ChatGPT k-ap konnen tout bagay yo (nan nenpÃ²t lang!)
// @description:hu      VÃ©gtelen vÃ¡laszokat generÃ¡ljon a mindentudÃ³ ChatGPT-bÅ‘l (bÃ¡rmely nyelven!)
// @description:hy      ÕÕ¿Õ¥Õ²Õ®Õ¥Ö„ Õ¡Õ¶Õ½Õ¡Õ°Õ´Õ¡Õ¶Õ¡ÖƒÕ¡Õ¯ ÕºÕ¡Õ¿Õ¡Õ½Õ­Õ¡Õ¶Õ¶Õ¥Ö€ Õ¡Õ´Õ¥Õ¶Õ¡Õ£Õ«Õ¿Õ¡Õ¯Õ¡Õ¶ ChatGPT-Õ«Ö (ÖÕ¡Õ¶Õ¯Õ¡ÖÕ¡Õ® Õ¬Õ¥Õ¦Õ¸Ö‚Õ¶ Õ´Õ¥Õ»!)
// @description:id      Hasilkan jawaban tak terbatas dari ChatGPT yang tahu segalanya (dalam bahasa apa pun!)
// @description:is      BÃºiÃ° til endalaus svÃ¶r frÃ¡ allvissu ChatGPT (Ã¡ hvaÃ°a tungumÃ¡li sem er!)
// @description:it      Genera risposte infinite dall'onnisciente ChatGPT (in qualsiasi lingua!)
// @description:ja      ã‚ã‚‰ã‚†ã‚‹è¨€èªžã§å…¨çŸ¥ã®ChatGPTã‹ã‚‰ç„¡é™ã®å›žç­”ã‚’ç”Ÿæˆã—ã¾ã™ï¼
// @description:jv      Mbukak panggung jawaban saka ChatGPT kang suwÃ©nÃ©h kabÃ¨h (kÃ©nging basa apapun!)
// @description:ka      áƒ¨áƒ”áƒ¥áƒ›áƒ”áƒœáƒ˜áƒ— áƒ£áƒ¡áƒáƒ¡áƒ áƒ£áƒšáƒ áƒžáƒáƒ¡áƒ£áƒ®áƒ”áƒ‘áƒ˜ áƒ§áƒ•áƒ”áƒšáƒ’áƒáƒœáƒáƒ¬áƒ˜áƒšáƒ”áƒ‘áƒ£áƒšáƒ˜ ChatGPT-áƒ“áƒáƒœ (áƒœáƒ”áƒšáƒ áƒ”áƒœáƒáƒ–áƒ”!)
// @description:kab     Kkes-as yidir seg yisem-asen n tafriqt ara ddunnit ChatGPT (di tifrat ara ddunit!)
// @description:kk      Ð‘Ð°Ñ€Ð»Ñ‹Ò› Ñ‚Ñ–Ð»Ð´Ðµ Ð±Ð°Ñ€ Ð±Ñ–Ð»Ð³ÐµÐ½ ChatGPT-Ð´ÐµÐ½ ÑˆÐµÐºÑÑ–Ð· Ð¶Ð°ÑƒÐ°Ð¿Ñ‚Ð°Ñ€ Ð¶Ð°ÑÐ°Ñƒ (Ò›Ð°Ð½Ð´Ð°Ð¹ Ð´Ð° Ñ‚Ñ–Ð»Ð´Ðµ!)
// @description:km      áž”áž„áŸ’áž€áž¾ážáž…áž˜áŸ’áž›áž¾áž™áž˜áž·áž“ážƒáž¾áž‰áž…áž”áŸ‹áž–áž¸ ChatGPT ážŠáŸ‚áž›áž…áŸ‚áž€ážŸáž„áŸ’ážŸáŸáž™áž‘áž¶áŸ†áž„áž¢ážŸáŸ‹ (áž‡áž¶áž“áŸ‹áž‚áŸ’ážšáž”áŸ‹áž—áž¶ážŸáž¶!)
// @description:kn      à²Žà²²à³à²²à²°à³ à²¤à²¿à²³à²¿à²¦à²¿à²°à³à²µ à²šà²¾à²Ÿà³â€Œà²œà²¿à²ªà²¿à²Ÿà²¿à²¯à²¿à²‚à²¦ à²…à²¨à²‚à²¤ à²‰à²¤à³à²¤à²°à²—à²³à²¨à³à²¨à³ à²°à²šà²¿à²¸à²¿ (à²¯à²¾à²µà³à²¦à³‡ à²­à²¾à²·à³†à²¯à²²à³à²²à²¿!)
// @description:ko      ì–´ë–¤ ì–¸ì–´ë¡œë“ ì§€ ë¬´ê¶ë¬´ì§„í•œ ë‹µë³€ì„ ë§Œë“¤ì–´ë‚´ëŠ” ChatGPTìž…ë‹ˆë‹¤!
// @description:ku      Ji ChatGPT-Ãª, ku hemÃ® tiÅŸtan dizane, bersiva li serbazÃªn li dor qewÃ® yÃªn hilbijartin (bi hertiÅŸtÃ® zimanek!)
// @description:ky      Ð¢Ò¯Ð· Ð±Ð¸Ð»Ð¸Ð¼Ð´Ò¯Ò¯ ChatGPT Ð±Ð¾ÑŽÐ½Ñ‡Ð° Ñ‡Ñ‹Ð³Ð°Ñ€Ð¼Ð°Ð»Ð°Ñ€Ð´Ñ‹ Ð¶Ð°ÑÐ°
// @description:la      Genera infinitas responsiones de ChatGPT omniscio (in qualibet lingua!)
// @description:lb      GenerÃ©iert endlos Ã„ntwerten vum allwÃ«ssende ChatGPT (op jiddere Sprooch!)
// @description:lo      àºªà»‰àº²àº‡àºœàº»àº™àºªàº»àº”àº—àºµà»ˆàºªàº²àº¡àº²àº”à»€àº¥àº·àº­àºàºˆàº²àºàºžàº²àºªàº²àº—àºµà»ˆàº®àº¹à»‰àºšàº¸àºàºàº³àº¥àº±àº‡ ChatGPT (à»ƒàº™àºžàº²àºªàº²à»ƒàº”à»œàº¶à»ˆàº‡!)
// @description:lt      Sugeneruokite begalinÄ¯ atsakymÅ³ kiekÄ¯ iÅ¡ visai Å¾inoanÄio ChatGPT (bet kuria kalba!)
// @description:lv      Ä¢enerÄ“ nebeidzamus atbilÅ¾u variantus no vissapratÄ«gÄ ChatGPT (jebkurÄ valodÄ!)
// @description:mg      Mandoza ny valiny miaraka amin'ny ChatGPT mahalala ny zavatra rehetra (amin'ny fiteny iray kokoa!)
// @description:mi      WhakapÅ«mau i ngÄ whakautu kore mutunga mai i te ChatGPT matau i ngÄ reo katoa!
// @description:mk      Ð“ÐµÐ½ÐµÑ€Ð¸Ñ€Ð°Ñ˜Ñ‚Ðµ Ð±ÐµÐ·Ð±Ñ€Ð¾Ñ˜ Ð¾Ð´Ð³Ð¾Ð²Ð¾Ñ€Ð¸ Ð¾Ð´ ÑÃ¨Ð·Ð½Ð°ÐµÐ½Ð°Ñ‚Ð° ChatGPT (Ð½Ð° Ð±Ð¸Ð»Ð¾ ÐºÐ¾Ñ˜ Ñ˜Ð°Ð·Ð¸Ðº!)
// @description:ml      à´Žà´¨àµà´¨àµ†à´´àµà´¤à´¾àµ» à´…à´¨à´¨àµà´¯à´¨à´¾à´¯ ChatGPT (à´à´¤àµ†à´™àµà´•à´¿à´²àµà´‚ à´­à´¾à´·à´¯à´¿àµ½) à´‡à´¨àµà´¨àµ‡à´•àµà´•àµà´‚ à´µàµ‡à´£àµà´Ÿà´¿ à´…à´µà´¸à´¾à´¨à´¿à´ªàµà´ªà´¿à´•àµà´•àµà´•!
// @description:mn      Ð¡Ò¯Ò¯Ð»Ð´ Ò¯Ð»Ð´ÑÑÐ½ÑÑÑÑÑ Ñ…Ð°Ð¹Ñ€Ñ†Ð°Ð³ Ð±Ð¾Ð»Ð¾Ñ… ChatGPT (ÑÐ¼Ð°Ñ€ Ñ‡ Ñ…ÑÐ» Ð´ÑÑÑ€) Ð´ÑÑÑ€Ñ…ÑÑÑ€ ÑÑ€Ð¸Ñ…
// @description:ms      Cipta pelbagai jawapan daripada ChatGPT yang tahu segala-galanya (dalam apa-apa bahasa!)
// @description:mt      IÄ¡Ä¡enera risposti infiniti mill-ChatGPT li kollha jaf (f'xi lingwa!)
// @description:my      á€¡á€¬á€¸á€œá€¯á€¶á€¸á€€á€­á€¯á€žá€„á€ºá€›á€­á€¯á€¸á€›á€­á€¯á€¸á€†á€½á€²á€”á€­á€¯á€„á€ºá€žá€Šá€ºá€· ChatGPT (á€á€…á€ºá€á€¯á€™á€¾á€¬á€šá€°á€žá€¯á€¶á€¸á€›á€”á€º!)
// @description:ne      à¤¸à¤¬à¥ˆ-à¤œà¥à¤žà¤¾à¤¨à¥€ ChatGPT à¤¬à¤¾à¤Ÿ à¤…à¤¨à¤‚à¤¤ à¤‰à¤¤à¥à¤¤à¤°à¤¹à¤°à¥‚ à¤‰à¤¤à¥à¤ªà¤¨à¥à¤¨ à¤—à¤°à¥à¤¨à¥à¤¹à¥‹à¤¸à¥ (à¤•à¥à¤¨à¥ˆ à¤ªà¤¨à¤¿ à¤­à¤¾à¤·à¤¾à¤®à¤¾!)
// @description:nl      Genereer eindeloze antwoorden van alwetende ChatGPT (in elke taal!)
// @description:no      Generer endelÃ¸se svar fra allvitende ChatGPT (pÃ¥ hvilket som helst sprÃ¥k!)
// @description:ny      Galimoto mabwino a mtendere zosiyanasiyana kuchokera ku ChatGPT woyankhula zonse! (muyankhulitsa chilichonse!)
// @description:pa      à¨¸à¨­ à¨œà¨¾à¨£ à¨µà¨¾à¨²à©‡ ChatGPT à¨¤à©‹à¨‚ à¨²à©°à¨¬à©‡ à¨‰à©±à¨¤à¨°à¨¾à¨‚ à¨¨à©‚à©° à¨¬à¨£à¨¾à¨“ (à¨•à¨¿à¨¸à©‡ à¨µà©€ à¨­à¨¾à¨¸à¨¼à¨¾ à¨µà¨¿à©±à¨š!)
// @description:pap     Hasi respuesta sinfin di ChatGPT ku tur sabi (na kua idioma!)
// @description:pl      Generuj nieskoÅ„czone odpowiedzi od wszechwiedzÄ…cego ChatGPT (w dowolnym jÄ™zyku!)
// @description:ps      Ø¯ Ù‡ØºÙˆÛŒ Ú†Ù¼Ú©Ø§Ù„ ChatGPT Ù„Ø®ÙˆØ§ Ù†Ù‡Ø§ÛŒØª Ø¬ÙˆØ§Ø¨ÙˆÙ†Ù‡ Ø¬ÙˆÚ“Ù‡ Ú©Ú“Ø¦ (Ø¯ Ù‡Ø± ÛŒÙˆÙ‡ Ú˜Ø¨Ù‡ Ú©ÛŒ!)
// @description:pt      Gere respostas infinitas do ChatGPT onisciente (em qualquer idioma!)
// @description:pt-BR   Gere respostas infinitas do ChatGPT onisciente (em qualquer idioma!)
// @description:rn      Basha inzira nk'itandukanye z'uko ChatGPT uzi (mu rurimi rwose!)
// @description:ro      GenereazÄƒ rÄƒspunsuri infinite de la ChatGPT omniscient (Ã®n orice limbÄƒ!)
// @description:ru      Ð“ÐµÐ½ÐµÑ€Ð¸Ñ€ÑƒÐ¹Ñ‚Ðµ Ð±ÐµÑÐºÐ¾Ð½ÐµÑ‡Ð½Ñ‹Ðµ Ð¾Ñ‚Ð²ÐµÑ‚Ñ‹ Ð¾Ñ‚ Ð²ÑÐµÐ·Ð½Ð°ÑŽÑ‰ÐµÐ³Ð¾ ChatGPT (Ð½Ð° Ð»ÑŽÐ±Ð¾Ð¼ ÑÐ·Ñ‹ÐºÐµ!)
// @description:rw      Banda inama z'imirimo isigaye zose z'umuco wa ChatGPT (mu rurimi rwose!)
// @description:sg      Tia ngamana nga mbetela ti ChatGPT tozuwa mitayi mingi (po wundi ndimi yo ngambo!)
// @description:si      à·ƒà·’à¶ºà·…à·” à¶¯à·à¶±à¶§à¶¸à¶­à·Š à·ƒà·„à¶­à·’à¶šà¶´à¶­à·Šà¶šà¶»à¶± à¶­à·€à¶­à·Š à·ƒà·’à¶­à·’à¶ºà¶¸à·Š à·ƒà·à¶šà·ƒà·”à¶¸à·Š à¶½à¶¶à· à¶¯à·™à¶±à·Šà¶±à·à·€à·– ChatGPT à·ƒà·‘à¶¯à·“à¶¸ (à¶•à¶±à·‘à¶¸ à¶·à·à·‚à·à·€à·™à¶±à·Šà¶¸!)
// @description:sk      Generujte nekoneÄnÃ© odpovede od vÅ¡evietajÃºceho ChatGPT (v akomkoÄ¾vek jazyku!)
// @description:sl      Generirajte neskonÄne odgovore iz vsevednega ChatGPT (v katerem koli jeziku!)
// @description:sm      Faia se faiga tele i le ChatGPT eseese (i nisi gagana!)
// @description:sn      Simudza mhinduro dzakawanda kubva kune ChatGPT ichiwanikwa chisarudzo! (mune rimwe nguva!)
// @description:so      Kor u qaado jawaabo kala duwan oo ka soo saar ChatGPT (luuqad ka mid ah!)
// @description:sr      Ð“ÐµÐ½ÐµÑ€Ð¸ÑˆÐ¸Ñ‚Ðµ Ð±ÐµÐ·Ð±Ñ€Ð¾Ñ˜ Ð¾Ð´Ð³Ð¾Ð²Ð¾Ñ€Ð° Ð¾Ð´ ÑÐ²ÐµÐ¼Ð¾Ñ›Ð½Ð¾Ð³ ChatGPT (Ð½Ð° Ð±Ð¸Ð»Ð¾ ÐºÐ¾Ð¼ Ñ˜ÐµÐ·Ð¸ÐºÑƒ!)
// @description:sv      Generera oÃ¤ndliga svar frÃ¥n allvetande ChatGPT (pÃ¥ valfritt sprÃ¥k!)
// @description:sw      Toa majibu yasiyokuwa na mwisho kutoka kwa ChatGPT mwenye maarifa yote (katika lugha yoyote!)
// @description:ta      à®…à®©à¯ˆà®¤à¯à®¤à¯ à®¤à®•à®µà®²à¯ˆà®¯à¯à®®à¯ à®…à®±à®¿à®¯à®ªà¯à®ªà®Ÿà¯à®Ÿ à®šà¯†à®¾à®¨à¯à®¤à®®à®¾à®© ChatGPT à®‡à®²à®¿à®°à¯à®¨à¯à®¤à¯ à®®à¯à®Ÿà®¿à®µà¯à®•à®³à¯ˆ à®‰à®°à¯à®µà®¾à®•à¯à®•à®µà¯à®®à¯ (à®Žà®¨à¯à®¤ à®®à¯Šà®´à®¿à®¯à®¿à®²à¯à®®à¯!)
// @description:te      à°…à°¨à±à°¨à°¿à°‚à°Ÿà°¿à°¨à±€à°•à°¿à°‚à°Ÿ à°®à°¾à°Ÿà°²à± à°°à°¾à°¯à°‚à°¡à°¿ ChatGPT à°—à±à°°à°¿à°‚à°šà°¿ à°…à°¨à±‡à°• à°œà°µà°¾à°¬à°¾à°²à°¨à± à°¸à±ƒà°·à±à°Ÿà°¿à°‚à°šà°‚à°¡à°¿ (à°à°¦à±ˆà°¨à°¾ à°­à°¾à°·à°²à±‹!)
// @description:tg      Ò¶Ð°Ð²Ð¾Ð±Ò³Ð¾Ð¸ Ð±ÐµÑÑƒÐ´Ð°Ð½Ð½Ð¸ ChatGPTÐ¸ Ò³Ð°Ð¼Ð°Ð¸Ñ„Ð°Ò›Ð°Ñ‚ (Ð´Ð°Ñ€ ÑÐº Ð·Ð°Ð±Ð¾Ð½Ð¸ Ð¼ÑƒÐ°Ð¹ÑÐ½Ð¸!)
// @description:th      à¸ªà¸£à¹‰à¸²à¸‡à¸„à¸³à¸•à¸­à¸šà¹„à¸¡à¹ˆà¸ªà¸´à¹‰à¸™à¸ªà¸¸à¸”à¸ˆà¸²à¸ ChatGPT à¸—à¸µà¹ˆà¸£à¸¹à¹‰à¸—à¸¸à¸à¸ªà¸´à¹ˆà¸‡ (à¹ƒà¸™à¸ à¸²à¸©à¸²à¹ƒà¸”à¸à¹‡à¹„à¸”à¹‰!)
// @description:ti      áŠ­áˆ­áˆµá‰µáŠ• áˆˆáˆ›á‹áŒ£á‰µ áŠ¨áŒˆáŒ½á‰³á‹áŠ• ChatGPT á‹¨á‰°áŠ¨áˆ³áˆ½ áŠ áˆµá‰°áŠ«áŠ­áˆ áŠ áˆµá‰°áŠ«áŠ­áˆŽá‰µ (á‰ áŠ¥á‹áŠá‰µ á‰‹áŠ•á‰‹!)
// @description:tk      ÅžeÃ½le anlaÅŸylÃ½an ChatGPT (her hili Ã¼Ã§in) arasyndan bÃ¤ÅŸmÃ¼Åˆhat jawaplar dÃ¶ret
// @description:tn      Hlela zitsha zwine zwiá¹±hiselela kha ChatGPT vhufudziá¹±e (muvhili wo vha u ite!)
// @description:to      Fakatonutonu Ê»ihe ngÄuekesi mei he ChatGPT fakaongoongo toenga (i he lea faka-Tonga ia!)
// @description:tpi     Sanapim hamamasples long save olsem ChatGPT i masples (long wanpela tok ples!)
// @description:tr      Bilge ChatGPT'den sonsuz cevaplar Ã¼ret (herhangi bir dilde!)
// @description:uk      Ð“ÐµÐ½ÐµÑ€ÑƒÐ¹Ñ‚Ðµ Ð±ÐµÐ·ÐºÑ–Ð½ÐµÑ‡Ð½Ñ– Ð²Ñ–Ð´Ð¿Ð¾Ð²Ñ–Ð´Ñ– Ð²Ñ–Ð´ ÑƒÑÐµÐ·Ð½Ð°ÑŽÑ‡Ð¾Ð³Ð¾ ChatGPT (Ð½Ð° Ð±ÑƒÐ´ÑŒ-ÑÐºÑ–Ð¹ Ð¼Ð¾Ð²Ñ–!)
// @description:ur      Ø³Ø¨ Ø¬Ø§Ù†Ù†Û’ ÙˆØ§Ù„Û’ ChatGPT Ø³Û’ Ù„Ø§Ù…ØªÙ†Ø§ÛÛŒ Ø¬ÙˆØ§Ø¨Ø§Øª Ù¾ÛŒØ¯Ø§ Ú©Ø±ÛŒÚº (Ú©Ø³ÛŒ Ø¨Ú¾ÛŒ Ø²Ø¨Ø§Ù† Ù…ÛŒÚº!)
// @description:uz      Barcha biladigan ChatGPT dan cheklovli javoblar oling (hech qanday tilda ham)!
// @description:vi      Táº¡o ra vÃ´ sá»‘ cÃ¢u tráº£ lá»i tá»« ChatGPT thÃ´ng minh (báº±ng báº¥t ká»³ ngÃ´n ngá»¯ nÃ o!)
// @description:xh      Bhala izinto ezingekwaziyo eziyimfihlo kusuka ku ChatGPT (ngolwimi lwanyanetha!)
// @description:yi      ×“×–×©×¢× ×¢×¨×™×™×˜ ×¡×Ö¸×£ ×¢× ×˜×¤Ö¿×¢×¨×¡ ×¤Ö¿×•×Ÿ ×Ö·×œ×¢-×’×¢×•×•×™×¡×Ÿ ChatGPT (××™×Ÿ ×§×™×™×Ÿ ×©×¤Ö¼×¨×Ö·×š!)
// @description:zh      ä»Žæ— æ‰€ä¸çŸ¥çš„ ChatGPT ç”Ÿæˆæ— ç©·æ— å°½çš„ç­”æ¡ˆ (ç”¨ä»»ä½•è¯­è¨€!)
// @description:zh-CN   ä»Žæ— æ‰€ä¸çŸ¥çš„ ChatGPT ç”Ÿæˆæ— ç©·æ— å°½çš„ç­”æ¡ˆ (ç”¨ä»»ä½•è¯­è¨€!)
// @description:zh-HK   å¾žç„¡æ‰€ä¸çŸ¥çš„ ChatGPT ç”Ÿæˆç„¡çª®ç„¡ç›¡çš„ç­”æ¡ˆ (ç”¨ä»»ä½•èªžè¨€!)
// @description:zh-SG   ä»Žæ— æ‰€ä¸çŸ¥çš„ ChatGPT ç”Ÿæˆæ— ç©·æ— å°½çš„ç­”æ¡ˆ (ç”¨ä»»ä½•è¯­è¨€!)
// @description:zh-TW   å¾žç„¡æ‰€ä¸çŸ¥çš„ ChatGPT ç”Ÿæˆç„¡çª®ç„¡ç›¡çš„ç­”æ¡ˆ (ç”¨ä»»ä½•èªžè¨€!)
// @author              Adam Lui
// @namespace           https://github.com/adamlui
// @version             2023.6.24.1
// @license             MIT
// @match               https://chat.openai.com/*
// @icon                https://raw.githubusercontent.com/adamlui/chatgpt-infinity/main/media/images/icons/infinity-symbol/black/icon48.png
// @icon64              https://raw.githubusercontent.com/adamlui/chatgpt-infinity/main/media/images/icons/infinity-symbol/black/icon64.png
// @compatible          chrome
// @compatible          firefox
// @compatible          edge
// @compatible          opera
// @compatible          brave
// @compatible          vivaldi
// @compatible          waterfox
// @compatible          librewolf
// @compatible          ghost
// @compatible          qq
// @require             https://cdn.jsdelivr.net/gh/chatgptjs/chatgpt.js@76b0c6869466e1c2200137afc96f9687f7b9616b/dist/chatgpt-1.10.2.min.js
// @connect             raw.githubusercontent.com
// @connect             greasyfork.org
// @grant               GM_setValue
// @grant               GM_getValue
// @grant               GM_registerMenuCommand
// @grant               GM_unregisterMenuCommand
// @grant               GM_openInTab
// @grant               GM.xmlHttpRequest
// @noframes
// @updateURL           https://greasyfork.org/scripts/465051/code/chatgpt-infinity.meta.js
// @downloadURL         https://greasyfork.org/scripts/465051/code/chatgpt-infinity.user.js
// @homepageURL         https://chatgptinfinity.com
// @supportURL          https://chatgptinfinity.com/support
// ==/UserScript==

// NOTE: This script relies on the powerful chatgpt.js library @ https://chatgpt.js.org (c) 2023 KudoAI & contributors under the MIT license

(async () => {

    // Init config
    const config = {
        prefix: 'chatGPTinf', appSymbol: 'âˆž', userLanguage: navigator.languages[0] || navigator.language || '',
        ghRepoURL: 'https://github.com/adamlui/chatgpt-infinity',
        updateURL: 'https://greasyfork.org/scripts/465051/code/chatgpt-infinity.meta.js' }
    config.assetHostURL = config.ghRepoURL.replace('github.com', 'raw.githubusercontent.com') + '/main/'
    loadSetting('autoScrollDisabled', 'lastCheckTime', 'replyInterval', 'replyLanguage',
        'replyTopic', 'skipNextUpdate', 'skippedVer', 'toggleHidden')
    if (!config.replyLanguage) saveSetting('replyLanguage', config.userLanguage) // init reply language if unset
    if (!config.replyTopic) saveSetting('replyTopic', 'ALL') // init reply topic if unset
    if (!config.replyInterval) saveSetting('replyInterval', 7) // init refresh interval to 7 secs if unset

    // Define messages
    const msgsLoaded = new Promise(resolve => {
        const msgHostDir = config.assetHostURL + 'greasemonkey/_locales/'
        const msgLocaleDir = ( config.userLanguage ? config.userLanguage.replace('-', '_') : 'en' ) + '/'
        let msgHref = msgHostDir + msgLocaleDir + 'messages.json', msgXHRtries = 0
        GM.xmlHttpRequest({ method: 'GET', url: msgHref, onload: onLoad })
        function onLoad(response) {
            try { // to return localized messages.json
                const messages = new Proxy(JSON.parse(response.responseText), {
                    get(target, prop) { // remove need to ref nested keys
                        if (typeof target[prop] === 'object' && target[prop] !== null && 'message' in target[prop]) {
                            return target[prop].message
                }}}) ; resolve(messages)
            } catch (error) { // if 404
                msgXHRtries++ ; if (msgXHRtries == 3) return // try up to 3X (original/region-stripped/EN) only
                msgHref = config.userLanguage.includes('-') && msgXHRtries == 1 ? // if regional lang on 1st try...
                    msgHref.replace(/(.*)_.*(\/.*)/, '$1$2') // ...strip region before retrying
                        : ( msgHostDir + 'en/messages.json' ) // else use default English messages
                GM.xmlHttpRequest({ method: 'GET', url: msgHref, onload: onLoad })
            }
        }
    }) ; const messages = await msgsLoaded

    // Create browser toolbar menu or disable script if extension installed 
    let menuIDs = []
    const state = {
        symbol: ['âœ”ï¸', 'âŒ'], word: ['ON', 'OFF'],
        separator: getUserscriptManager() === 'Tampermonkey' ? ' â€” ' : ': ' }
    await chatgpt.isLoaded()
    if (document.documentElement.getAttribute('cif-extension-installed')) { // if extension installed, disable script/menu
        GM_registerMenuCommand(state.symbol[1] + ' ' + messages.menuLabel_disabled, () => { return })
        return // exit script
    } else registerMenu() // create functional menu

    // Check for updates (1x/72h)
    if (!config.lastCheckTime || Date.now() - config.lastCheckTime > 172800000) checkForUpdates()

    // Add listener to auto-disable Infinity Mode
    if (document.hidden !== undefined) { // ...if Page Visibility API supported
        document.addEventListener('visibilitychange', () => {
            if (config.infinityMode) infinityMode.deactivate()
            for (const id of menuIDs) GM_unregisterMenuCommand(id) ; registerMenu() // refresh menu
    })}

    // Stylize toggle switch
    const switchStyle = document.createElement('style')
    switchStyle.innerText = `/* Stylize switch */
        .switch { position:absolute ; left:208px ; width:34px ; height:18px }
        .switch input { opacity:0 ; width:0 ; height:0 } /* hide checkbox */
        .slider { position:absolute ; cursor:pointer ; top:0 ; left:0 ; right:0 ; bottom:0 ; background-color:#ccc ; -webkit-transition:.4s ; transition:.4s ; border-radius:28px }
        .slider:before { position:absolute ; content:"" ; height:14px ; width:14px ; left:3px; bottom:2px ; background-color:white ; -webkit-transition:.4s ; transition:.4s ; border-radius:28px }

        /* Position/color ON-state */
        input:checked { position:absolute ; right:3px }
        input:checked + .slider { background-color:#42B4BF }
        input:checked + .slider:before {
            -webkit-transform: translateX(14px) translateY(1px) ;
            -ms-transform: translateX(14px) translateY(1px) ;
            transform: translateX(14px) }`

    document.head.appendChild(switchStyle)

    // Create toggle label, add styles//classes/listener/HTML
    const toggleLabel = document.createElement('div') // create label div
    toggleLabel.style.maxHeight = '44px' // prevent flex overgrowth
    toggleLabel.style.margin = '2px 0' // add v-margins
    toggleLabel.style.userSelect = 'none' // prevent highlighting
    for (const navLink of document.querySelectorAll('nav[aria-label="Chat history"] a')) { // inspect sidebar for classes to borrow
        if (navLink.text.match(/(new|clear) chat/i)) { // focus on new/clear chat button
            toggleLabel.setAttribute('class', navLink.classList) // borrow link classes
            navLink.parentNode.style.margin = '2px 0' // add v-margins
            break // stop looping since class assignment is done
    }}
    toggleLabel.addEventListener('click', () => {
        const toggleInput = document.querySelector('#infToggleInput')
        toggleInput.checked = !toggleInput.checked
        setTimeout(updateToggleHTML, 200) // sync label change w/ switch movement
        config.infinityMode = toggleInput.checked
        for (const id of menuIDs) GM_unregisterMenuCommand(id) ; registerMenu() // refresh menu
        infinityMode.toggle()
    })
    updateToggleHTML()

    // Insert full toggle on page load + during navigation // åœ¨å¯¼èˆªæœŸé—´æ’å…¥é¡µé¢åŠ è½½ + çš„å®Œæ•´åˆ‡æ¢
    insertToggle()
    const nodeObserver = new MutationObserver((mutations) => {
        mutations.forEach((mutation) => {
            if (mutation.type === 'childList' && mutation.addedNodes.length) {
                insertToggle()
    }})}) ; nodeObserver.observe(document.documentElement, { childList: true, subtree: true })

    // Define SCRIPT functions

    function loadSetting(...keys) {
        keys.forEach(key => {
            config[key] = GM_getValue(config.prefix + '_' + key, false)
    })}

    function saveSetting(key, value) {
        GM_setValue(config.prefix + '_' + key, value) // save to browser
        config[key] = value // and memory
    }

    function checkForUpdates() {

        // Fetch latest meta
        const currentVer = GM_info.script.version
        GM.xmlHttpRequest({ method: 'GET', url: config.updateURL + '?t=' + Date.now(), headers: { 'Cache-Control': 'no-cache' },
            onload: (response) => { saveSetting('lastCheckTime', Date.now())

                // Compare versions
                const latestVer = response.responseText.match(/@version +(.*)/)[1]
                if (!checkForUpdates.fromMenu && config.skipNextUpdate && latestVer === config.skippedVer)
                    return // exit comparison if past auto-alert hidden
                for (let i = 0 ; i < 4 ; i++) { // loop thru subver's
                    const currentSubVer = parseInt(currentVer.split('.')[i]) || 0
                    const latestSubVer = parseInt(latestVer.split('.')[i]) || 0
                    if (currentSubVer > latestSubVer) break // out of comparison since not outdated
                    else if (latestSubVer > currentSubVer) { // if outdated
                        if (!checkForUpdates.fromMenu) // if auto-alert...
                            saveSetting('skipNextUpdate', false) // ...reset hidden alert setting for fresh decision

                        // Alert to update
                        const updateAlertID = alert('Update available! ðŸš€', // title
                            `An update to ${ messages.appName } (v${ latestVer }) is available!   `
                                + '<a target="_blank" href=' + config.ghRepoURL + '/commits/main/greasemonkey/'
                                    + config.updateURL.replace(/.*\/(.*)meta\.js/, '$1user.js')
                                    + ' style="font-size: 0.7rem">View changes</a>',
                            function update() { // button
                                GM_openInTab(config.updateURL.replace('meta.js', 'user.js') + '?t=' + Date.now(),
                                    { active: true, insert: true } // focus, make adjacent
                                ).onclose = () => location.reload() },
                            !checkForUpdates.fromMenu ? // checkbox if auto-alert
                                function dontShowAgainUntilNextUpdate() {
                                    saveSetting('skipNextUpdate', !config.skipNextUpdate)
                                    saveSetting('skippedVer', config.skipNextUpdate ? latestVer : false)
                                } : ''
                        )

                        // Localize button/checkbox labels if needed
                        if (!config.userLanguage.startsWith('en')) {
                            const updateAlert = document.querySelector(`[id="${ updateAlertID }"]`)
                            updateAlert.querySelector('label').textContent = ( // checkbox label
                                `${ messages.alert_dontShowAgain } ${ messages.alert_untilNextVer }`)
                            updateAlert.querySelectorAll('button')[1].textContent = messages.buttonLabel_update
                            updateAlert.querySelectorAll('button')[0].textContent = messages.buttonLabel_dismiss
                        }

                        return
                }}

                if (checkForUpdates.fromMenu) { // alert to no update found
                    alert(`${ messages.alert_upToDate }!`, // title
                        `${ messages.appName } (v${ currentVer }) ${ messages.alert_isUpToDate }!`) // msg
    }}})}

    // Define MENU functions

    function getUserscriptManager() { try { return GM_info.scriptHandler } catch(error) { return 'other' }}

    function toTitleCase(str) {
        const words = str.toLowerCase().split(' ')
        for (let i = 0 ; i < words.length ; i++) // for each word
            words[i] = words[i][0].toUpperCase() + words[i].slice(1) // title-case it
        return words.join(' ') // join'em back together
    }

    function registerMenu() {
        menuIDs = [] // empty to store newly registered cmds for removal while preserving order

        // Add command to toggle Infinity Mode
        const imLabel = state.symbol[+!config.infinityMode] + ' ' + messages.menuLabel_infinityMode + ' âˆž '
                      + state.separator + state.word[+!config.infinityMode]
        menuIDs.push(GM_registerMenuCommand(imLabel, () => {
            document.querySelector('#infToggleLabel').click()
        }))

        // Add command to toggle visibility of toggle
        const tvLabel = state.symbol[+config.toggleHidden] + ' ' + messages.menuLabel_toggleVis
                      + state.separator + state.word[+config.toggleHidden]
        menuIDs.push(GM_registerMenuCommand(tvLabel, () => {
            saveSetting('toggleHidden', !config.toggleHidden)
            toggleLabel.style.display = config.toggleHidden ? 'none' : 'flex' // toggle visibility
            notify(messages.menuLabel_toggleVis + ': '+ state.word[+config.toggleHidden])
            for (const id of menuIDs) GM_unregisterMenuCommand(id) ; registerMenu() // refresh menu
        }))

        // Add command to toggle auto-scroll
        const asLabel = state.symbol[+config.autoScrollDisabled] + ' ' + messages.menuLabel_autoScroll
                      + state.separator + state.word[+config.autoScrollDisabled]
        menuIDs.push(GM_registerMenuCommand(asLabel, () => {
            saveSetting('autoScrollDisabled', !config.autoScrollDisabled)
            notify(messages.menuLabel_autoScroll + ': '+ state.word[+config.autoScrollDisabled])
            for (const id of menuIDs) GM_unregisterMenuCommand(id) ; registerMenu() // refresh menu
        }))

        // Add command to set reply language
        const rlLabel = 'ðŸŒ ' + messages.menuLabel_replyLang + state.separator + config.userLanguage
        menuIDs.push(GM_registerMenuCommand(rlLabel, () => {
            while (true) {
                const replyLanguage = prompt(`${ messages.prompt_updateReplyLang }:`, config.replyLanguage)
                if (replyLanguage === null) break // user cancelled so do nothing
                else if (!/\d/.test(replyLanguage)) {
                    saveSetting('replyLanguage', replyLanguage ? replyLanguage : config.userLanguage)
                    alert(messages.alert_replyLangUpdated + '!', messages.alert_willReplyIn + ' '
                        + ( replyLanguage ? replyLanguage : messages.alert_yourSysLang ) + '.')
                    if (config.infinityMode) { // restart session using new reply language
                        chatgpt.stop() ; document.querySelector('#infToggleLabel').click() // toggle off
                        setTimeout(() => { document.querySelector('#infToggleLabel').click() }, 500) } // toggle on
                    for (const id of menuIDs) GM_unregisterMenuCommand(id) ; registerMenu() // refresh menu
                    break
        }}}))

        // Add command to set reply topic
        const re_all = new RegExp('^(' + messages.menuLabel_all + '|all|any|every)$', 'i')
        const rtLabel = 'ðŸ§  ' + messages.menuLabel_replyTopic + state.separator
                      + ( config.replyTopic.match(re_all) ? messages.menuLabel_all
                                                        : toTitleCase(config.replyTopic) )
        menuIDs.push(GM_registerMenuCommand(rtLabel, () => {
            while (true) {
                const replyTopic = prompt(messages.prompt_updateReplyTopic
                    + ' (' + messages.prompt_orEnter + ' \'ALL\'):', config.replyTopic)
                if (replyTopic === null) break // user cancelled so do nothing
                else if (!/\d/.test(replyTopic)) {
                    saveSetting('replyTopic', !replyTopic || replyTopic.match(re_all) ? 'ALL' : replyTopic)
                    alert(messages.alert_replyTopicUpdated + '!',
                        messages.appName + ' ' + messages.alert_willAnswer + ' '
                            + ( !replyTopic || replyTopic.match(re_all) ? messages.alert_onAllTopics
                                                                        : messages.alert_onTopicOf + ' ' + replyTopic )
                            + '!')
                    if (config.infinityMode) { // restart session using new reply topic
                        chatgpt.stop() ; document.querySelector('#infToggleLabel').click() // toggle off
                        setTimeout(() => { document.querySelector('#infToggleLabel').click() }, 500) } // toggle on
                    for (const id of menuIDs) GM_unregisterMenuCommand(id) ; registerMenu() // refresh menu
                    break
        }}}))

        // Add command to change reply interval
        const riLabel = 'âŒš ' + messages.menuLabel_replyInt + state.separator + config.replyInterval + 's'
        menuIDs.push(GM_registerMenuCommand(riLabel, async () => {
            while (true) {
                const replyInterval = prompt(`${ messages.prompt_updateReplyInt }:`, config.replyInterval)
                if (replyInterval === null) break // user cancelled so do nothing
                else if (!isNaN(parseInt(replyInterval)) && parseInt(replyInterval) > 4) { // valid int set
                    saveSetting('replyInterval', parseInt(replyInterval))
                    alert(messages.alert_replyIntUpdated + '!', messages.alert_willReplyEvery + ' '
                        + replyInterval + ' ' + messages.unit_seconds + '.')
                    if (config.infinityMode) { // reset reply interval w/o ending session
                        clearTimeout(infinityMode.isActive) ; infinityMode.isActive = null ; await chatgpt.isIdle()
                        if (config.infinityMode && !infinityMode.isActive) { // double-check in case de-activated before scheduled
                            infinityMode.isActive = setTimeout(infinityMode.continue, parseInt(config.replyInterval) * 1000)
                    }}
                    for (const id of menuIDs) GM_unregisterMenuCommand(id) ; registerMenu() // refresh menu
                    break
        }}}))

        // Add command to check for updates
        const ucLabel = 'ðŸš€ ' + messages.menuLabel_updateCheck
        menuIDs.push(GM_registerMenuCommand(ucLabel, () => { checkForUpdates.fromMenu = true ; checkForUpdates() }))

    }

    // Define FEEDBACK functions

    function notify(msg, position = '', notifDuration = '', shadow = '') {
        chatgpt.notify(`${ config.appSymbol } ${ msg }`, position, notifDuration,
            shadow ? shadow : ( chatgpt.isDarkMode() ? '' : 'shadow'))
    }

    function alert(title = '', msg = '', btns = '', checkbox = '', width = '') {
        return chatgpt.alert(`${ config.appSymbol } ${ title }`, msg, btns, checkbox, width )}

    // Define TOGGLE functions

    function insertToggle() {
        const chatHistoryNav = document.querySelector('nav[aria-label="Chat history"]') || {}
        const firstButton = chatHistoryNav.querySelector('a') || {}
        if (chatgpt.history.isOff()) // hide enable-history spam div
            try { firstButton.parentNode.nextElementSibling.style.display = 'none' } catch (error) {}
        if (!chatHistoryNav.contains(toggleLabel)) // insert toggle
            try { chatHistoryNav.insertBefore(toggleLabel, firstButton.parentNode) } catch (error) {}
    }

    function updateToggleHTML() {
        while (toggleLabel.firstChild) toggleLabel.firstChild.remove() // clear old content

        // Create elements
        const navicon = document.createElement('img') ; navicon.width = 18
        navicon.src = config.assetHostURL + 'media/images/icons/infinity-symbol/white/icon64.png'
        const label = document.createElement('label') ; label.className = 'switch' ; label.id = 'infToggleLabel'
        const labelText = document.createTextNode(messages.menuLabel_infinityMode + ' '
            + messages['state_' + ( config.infinityMode ? 'enabled' : 'disabled' )])
        const input = document.createElement('input') ; input.id = 'infToggleInput'
        input.type = 'checkbox' ; input.checked = config.infinityMode ; input.disabled = true
        const span = document.createElement('span') ; span.className = 'slider'

        // Append elements
        label.appendChild(input) ; label.appendChild(span)
        toggleLabel.appendChild(navicon) ; toggleLabel.appendChild(label) ; toggleLabel.appendChild(labelText)

        // Update visibility
        toggleLabel.style.display = config.toggleHidden ? 'none' : 'flex'
    }

    const infinityMode = {

        activate: async () => {
            notify(messages.menuLabel_infinityMode + ': ON')
            try { chatgpt.startNewChat() } catch (error) { return }
            setTimeout(() => {
                chatgpt.send('Generate a single random Q&A'
                    + ( config.replyLanguage ? ( ' in ' + config.replyLanguage ) : '' )
                    + ( ' on ' + ( config.replyTopic === 'ALL' ? 'ALL topics' : 'the topic of ' + config.replyTopic ))
                    + '. Don\'t type anything else.')
            }, 500)
            await chatgpt.isIdle()
            if (config.infinityMode && !infinityMode.isActive) // double-check in case de-activated before scheduled
                infinityMode.isActive = setTimeout(infinityMode.continue, parseInt(config.replyInterval) * 1000)
        },

        continue: async () => {
            chatgpt.send('Do it again.')
            if (!config.autoScrollDisabled) try { chatgpt.scrollToBottom() } catch(error) {}
            await chatgpt.isIdle() // before starting delay till next iteration
            if (infinityMode.isActive) // replace timer
                infinityMode.isActive = setTimeout(infinityMode.continue, parseInt(config.replyInterval) * 1000)
        },

        deactivate: () => {
            chatgpt.stop() ; clearTimeout(infinityMode.isActive) ; infinityMode.isActive = null
            document.querySelector('#infToggleInput').checked = false // for window listener
            notify(messages.menuLabel_infinityMode + ': OFF')
            config.infinityMode = false // in case toggled by PV listener
        },

        toggle: () => { config.infinityMode ? infinityMode.activate() : infinityMode.deactivate() }
    }

})()
