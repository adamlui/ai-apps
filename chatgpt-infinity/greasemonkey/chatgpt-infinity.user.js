// ==UserScript==
// @name                ChatGPT Infinity ‚àû
// @name:af             ChatGPT Oneindig ‚àû
// @name:ar             ÿØÿ±ÿØÿ¥ÿ©GPT ÿ•ŸÜŸÅŸäŸÜŸäÿ™Ÿä ‚àû
// @name:az             ChatGPT Sonsuzluq ‚àû
// @name:be             ChatGPT –ë—è—Å–∫–æ–Ω—Ü–∞—Å—Ü—å ‚àû
// @name:bg             ChatGPT –ë–µ–∑–∫—Ä–∞–π–Ω–æ—Å—Ç ‚àû
// @name:bn             ChatGPT ‡¶á‡¶®‡¶´‡¶ø‡¶®‡¶ø‡¶ü‡¶ø ‚àû
// @name:bo             ChatGPT ‡Ωë‡ΩÇ‡ºã‡Ω¶‡æê‡æ±‡Ω∫‡Ω¶‡ºã‡Ω°‡Ωº‡Ωë‡ºã‡Ωî‡ºã ‚àû
// @name:bs             ChatGPT Beskrajnost ‚àû
// @name:ca             ChatGPT Infinit ‚àû
// @name:ckb            ChatGPT ŸÜ€ïŸæ€éŸÜÿØ€å€å€ï ‚àû
// @name:cs             ChatGPT Nekoneƒçno ‚àû
// @name:cy             ChatGPT Anfeidredd ‚àû
// @name:da             ChatGPT Uendelighed ‚àû
// @name:de             ChatGPT Unendlichkeit ‚àû
// @name:dv             ChatGPT ﬁÇﬁ™ﬁàﬁ¶ﬁåﬁ¶ ﬁÑﬁßﬁàﬁ¶ﬁáﬁ∞ﬁñﬁ≠ﬁéﬁ¨ﬁÇﬁ∞ ‚àû
// @name:dz             ChatGPT ‡Ω¢‡æ©‡Ω∫‡Ωë‡ºã‡Ω¶‡æí‡æ≤‡Ω≤‡Ωñ‡ºã‡ΩÇ‡Ωâ‡Ω≤‡Ω¶‡ºã ‚àû
// @name:el             ChatGPT ŒÜœÄŒµŒπœÅŒø ‚àû
// @name:eo             ChatGPT Infinito ‚àû
// @name:es             ChatGPT Infinito ‚àû
// @name:et             ChatGPT L√µpmatus ‚àû
// @name:eu             ChatGPT Infinitua ‚àû
// @name:fa             ChatGPT ÿ®€åŸÜŸáÿß€åÿ™ ‚àû
// @name:fi             ChatGPT √Ñ√§ret√∂n ‚àû
// @name:fo             ChatGPT √ìendanlighed ‚àû
// @name:fr             ChatGPT Infini ‚àû
// @name:fr-CA          ChatGPT Infini ‚àû
// @name:gl             ChatGPT Infinito ‚àû
// @name:gu             ChatGPT ‡™Ö‡™®‡™Ç‡™§ ‚àû
// @name:haw            ChatGPT MƒÅhina  ªole ‚àû
// @name:he             ChatGPT ◊ê◊ô◊†◊°◊ï◊£ ‚àû
// @name:hi             ChatGPT ‡§Ö‡§®‡§Ç‡§§ ‚àû
// @name:hr             ChatGPT Beskrajnost ‚àû
// @name:hu             ChatGPT V√©gtelens√©g ‚àû
// @name:hy             ChatGPT ‘±’∂’æ’•÷Ä’ª ‚àû
// @name:id             ChatGPT Infinity ‚àû
// @name:is             ChatGPT √ìendanleiki ‚àû
// @name:it             ChatGPT Infinito ‚àû
// @name:ja             ChatGPT ÁÑ°Èôê ‚àû
// @name:ka             ChatGPT ·É£·É°·Éê·É°·É†·É£·Éö·Éù·Éë·Éê ‚àû
// @name:km             ChatGPT ·û¢·ûì·û°·û∂·ûâ ‚àû
// @name:kn             ChatGPT ‡≤Ö‡≤®‡≤Ç‡≤§ ‚àû
// @name:ko             ChatGPT Î¨¥Ìïú ‚àû
// @name:ku             ChatGPT P√™≈üangeh ‚àû
// @name:ky             ChatGPT –ò—á–∫–∏ ‚àû
// @name:la             ChatGPT Infinitas ‚àû
// @name:lb             ChatGPT Unendlechkeet ‚àû
// @name:lo             ChatGPT ‡∫ö‡ªç‡ªà‡ªÑ‡∫õ‡∫™‡∫π‡ªà‡∫à‡∫±‡∫Å‡∫Ç‡∫≠‡∫á‡∫™‡∫≤‡∫°‡∫´‡∫ß‡ªà‡∫≤‡∫á ‚àû
// @name:lt             ChatGPT Begalybƒó ‚àû
// @name:lv             ChatGPT Bezgalƒ´ba ‚àû
// @name:mk             ChatGPT –ë–µ—Å–∫–æ–Ω–µ—á–Ω–æ—Å—Ç ‚àû
// @name:ml             ChatGPT ‡¥Ö‡¥®‡¥®‡µç‡¥§‡¥§ ‚àû
// @name:mn             ChatGPT –¢—ç–≥—à –±—É—Å ‚àû
// @name:mt             ChatGPT Infinit√† ‚àû
// @name:my             ChatGPT ·Äô·Äº·ÄÑ·Ä∫·ÄÄ·ÄΩ·ÄÑ·Ä∫·Ä∏ ‚àû
// @name:ne             ChatGPT ‡§Ö‡§®‡§Ç‡§§ ‚àû
// @name:nl             ChatGPT Oneindigheid ‚àû
// @name:no             ChatGPT Uendelighet ‚àû
// @name:pa             ChatGPT ‡®á‡®®‡®´‡®ø‡®®‡®ø‡®ü‡©Ä ‚àû
// @name:pl             ChatGPT Niesko≈Ñczono≈õƒá ‚àû
// @name:ps             ChatGPT ŸÑÿßŸÖ⁄©ÿßŸÜ ‚àû
// @name:pt             ChatGPT Infinito ‚àû
// @name:pt-BR          ChatGPT Infinito ‚àû
// @name:ro             ChatGPT Infinitate ‚àû
// @name:ru             ChatGPT –ë–µ—Å–∫–æ–Ω–µ—á–Ω–æ—Å—Ç—å ‚àû
// @name:si             ChatGPT ‡∂Ö‡∂±‡∂±‡∑ä‡∂≠‡∂∫ ‚àû
// @name:sk             ChatGPT Nekoneƒçno ‚àû
// @name:sl             ChatGPT Neskonƒçnost ‚àû
// @name:so             ChatGPT Qaybtiisa ‚àû
// @name:sr             ChatGPT –ë–µ—Å–∫—Ä–∞—ò–Ω–æ—Å—Ç ‚àû
// @name:sv             ChatGPT O√§ndlighet ‚àû
// @name:ta             ChatGPT ‡ÆÆ‡ØÅ‡Æü‡Æø‡Æµ‡Æø‡Æ≤‡Æø‡Æ∞‡ØÅ‡Æ®‡Øç‡Æ§‡ØÅ ‚àû
// @name:te             ChatGPT ‡∞Ö‡∞®‡∞Ç‡∞§‡∞§ ‚àû
// @name:tg             ChatGPT –ë–µ–æ“≥”£ ‚àû
// @name:th             ChatGPT ‡∏≠‡∏ô‡∏±‡∏ô‡∏ï‡πå ‚àû
// @name:ti             ChatGPT ·àò·ã∞·àò·à≠ ‚àû
// @name:tk             ChatGPT Sonsuzluk ‚àû
// @name:tr             ChatGPT Sonsuzluk ‚àû
// @name:uk             ChatGPT –ù–µ—Å–∫—ñ–Ω—á–µ–Ω–Ω—ñ—Å—Ç—å ‚àû
// @name:ur             ChatGPT ÿ®€í ÿßŸÜÿ™€Åÿß ‚àû
// @name:vi             ChatGPT V√¥ c√πng ‚àû
// @name:yi             ChatGPT ◊ê◊ô◊†◊§◊ô◊†◊ô◊ò◊ô ‚àû
// @name:zh             ChatGPT Êó†Èôê ‚àû
// @name:zh-CN          ChatGPT Êó†Èôê ‚àû
// @name:zh-HK          ChatGPT ÁÑ°Èôê ‚àû
// @name:zh-SG          ChatGPT Êó†Èôê ‚àû
// @name:zh-TW          ChatGPT ÁÑ°Èôê ‚àû
// @description         Generate endless answers from all-knowing ChatGPT (in any language!)
// @description:af      Genereer eindelose antwoorde van die alwetende ChatGPT (in enige taal!)
// @description:am      ·àì·â†·à¨·â≥·ã≠ ·ä£·ã≠·äê·â†·à≠·äì ·àò·àç·ä•·äΩ·â≤ ·ä£·àà·äπ·àù ·ä£·àé·äª·ãä ·ã´·àç·ä£·ã≠·âµ ChatGPT (·â†·âã·äï·âã!)
// @description:ar      ŸÇŸÖ ÿ®ÿ™ŸàŸÑŸäÿØ ÿ•ÿ¨ÿßÿ®ÿßÿ™ ŸÑÿß ŸÜŸáÿßÿ¶Ÿäÿ© ŸÖŸÜ ChatGPT ÿßŸÑŸÖÿπÿ±ŸÅ ÿ®ŸÉŸÑ ÿ¥Ÿäÿ° (ÿ®ÿ£Ÿä ŸÑÿ∫ÿ©!)
// @description:az      H…ôr ≈üeyi bil…ôn ChatGPT-d…ôn sonsuz cavablar yaradƒ±n (h…ôr hansƒ± bir dil il…ô!)
// @description:be      –°—Ç–≤–∞—Ä—ã—Ü–µ –±—è—Å–∫–æ–Ω—Ü—ã –∞–¥–∫–∞–∑—ã –∞–¥ —û—Å–µ–≤–µ–¥—É—á–∞–≥–∞ ChatGPT (–Ω–∞ –ª—é–±–æ–π –º–æ–≤–µ!)
// @description:bem     Pamene mwaposa mafolosho a m ånoze ChatGPT (mu lupiya lwa ndalama!)
// @description:bg      –ì–µ–Ω–µ—Ä–∏—Ä–∞–π—Ç–µ –±–µ–∑–∫—Ä–∞–π–Ω–∏ –æ—Ç–≥–æ–≤–æ—Ä–∏ –æ—Ç –≤—Å–µ–∑–Ω–∞–π–Ω–∏—è ChatGPT (–Ω–∞ –≤—Å—è–∫ –µ–∑–∏–∫!)
// @description:bn      ‡¶∏‡¶∞‡ßç‡¶¨‡¶ú‡ßç‡¶û ‡¶ö‡ßç‡¶Ø‡¶æ‡¶ü‡¶ú‡¶ø‡¶™‡¶ø‡¶ü‡¶ø ‡¶•‡ßá‡¶ï‡ßá ‡¶Ö‡¶∏‡ßÄ‡¶Æ ‡¶â‡¶§‡ßç‡¶§‡¶∞ ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡ßÅ‡¶® (‡¶Ø‡ßá ‡¶ï‡ßã‡¶® ‡¶≠‡¶æ‡¶∑‡¶æ‡¶Ø‡¶º!)
// @description:bo      ‡Ωñ‡Ωü‡Ωº‡Ω¶‡ºã‡Ωî‡ºã‡Ωñ‡Ω¢‡æó‡Ωº‡Ωë‡ºã‡Ωî‡Ω†‡Ω≤‡ºãChatGPT‡ΩÇ‡Ω≤‡ºã‡ΩÇ‡æ≤‡Ωº‡Ω¶‡ºã‡Ωî‡Ω¢‡ºã‡Ω†‡ΩÇ‡æ≤‡Ω¥‡Ωñ‡ºã‡Ω†‡Ωë‡Ω∫‡Ωò‡Ω¶‡ºã‡Ωñ‡Ω¶‡æê‡æ±‡Ω∫‡Ωë‡ºã‡Ωò‡Ω≤‡ºã‡Ω†‡Ωº‡ΩÑ‡Ω¶‡ºã‡Ωî‡ºç (‡Ω£‡Ω¶‡ºã‡Ω¶‡æê‡Ωñ‡Ω¶‡ºã‡ΩÄ‡æ±‡Ω≤‡ºã‡Ω¶‡æê‡Ωë‡ºã‡Ω°‡Ω≤‡ΩÇ‡ºã‡ΩÇ‡Ω≤‡ºã‡Ω¶‡æê‡Ωë‡ºã!)
// @description:bs      Generi≈°ite beskonaƒçne odgovore od sveznajuƒáeg ChatGPT (na bilo kom jeziku!)
// @description:ca      Genereu respostes infinites des de l'omniscient ChatGPT (en qualsevol idioma!)
// @description:ceb     Sukdagon ang walay katapusan nga mga tubag gikan sa tanan-mahibaw-anong ChatGPT (sa bisan unsang pinulongan!)
// @description:ckb     Ÿæ€éÿ¥ÿ®€åŸÜ€å ⁄Üÿßÿ™⁄ØŸæÿ™€ï⁄©€ï ÿØ€åÿßÿ±€å€å€ï⁄©ÿßŸÜ€å Ÿæ€é⁄©ÿ±ÿßŸà€ï⁄©ÿßŸÜ ÿ®ŸÜŸàŸàÿ≥€ï (ÿ®€ï Ÿá€ïÿ± ÿ≤ŸÖÿßŸÜ€é⁄©€å ÿØ€å⁄©€ï!)
// @description:cs      Generujte nekoneƒçn√© odpovƒõdi od v≈°evƒõdouc√≠ho ChatGPT (v jak√©mkoli jazyce!)
// @description:cy      Cynhyrchwch atebion diddiwedd o ChatGPT y g≈µr sy'n gwybod popeth (mewn unrhyw iaith!)
// @description:da      Generer endel√∏se svar fra den altvidende ChatGPT (p√• hvilket som helst sprog!)
// @description:de      Generieren Sie endlose Antworten von dem allwissenden ChatGPT (in beliebiger Sprache!)
// @description:dv      ﬁáﬁ¨ﬁÄﬁ¨ﬁÇﬁãﬁ™ﬁÜﬁ¶ﬁóﬁ¨ﬁáﬁ∞ﬁàﬁ¨ﬁêﬁ© ﬁóﬁ¨ﬁáﬁ∞ﬁêﬁ®ﬁêﬁ∞ﬁìﬁØﬁÇﬁ¶ﬁÅﬁ∞ ﬁÇﬁ®ﬁîﬁ¶ﬁçﬁ¶ﬁáﬁ®ﬁäﬁ¶ﬁáﬁ®ﬁàﬁ¶ﬁÇﬁ© ﬁêﬁ™ﬁÉﬁ™ﬁÜﬁÆﬁÅﬁ∞ ﬁäﬁ©ﬁÄﬁ™ﬁÇﬁ∞ (ﬁÜﬁ¶ﬁÇﬁ∞ﬁáﬁ¨ﬁàﬁ¨ﬁêﬁ∞ ﬁÄﬁ¶ﬁâﬁ¶ﬁàﬁ¨ﬁêﬁ∞!)
// @description:dz      ‡ΩÜ‡ΩÇ‡Ω¶‡ºã‡ΩÄ‡æ±‡Ω≤‡Ω¶‡ºã‡Ω£‡ºã‡Ωñ‡Ω¢‡æü‡Ω∫‡Ωì‡ºã‡ΩÇ‡ΩÑ‡ºã‡Ω¢‡Ω¥‡ΩÑ‡ºã‡ΩÇ‡Ω≤‡ºãChatGPT‡ΩÇ‡Ω≤‡ºã‡Ωö‡Ωº‡ΩÇ‡Ω¶‡ºã‡Ωî‡Ω†‡Ω≤‡ºã‡Ω¶‡æê‡Ωë‡ºã‡Ω°‡Ω≤‡ΩÇ‡ºã‡ΩÇ‡æ±‡Ω≤‡ºã‡Ω¶‡æê‡Ωë‡ºã‡Ω°‡Ω≤‡ΩÇ‡ºã‡Ωñ‡æ±‡Ω∫‡Ωë‡ºã‡Ωî‡ºç (‡Ωñ‡æ≥‡ºã‡Ωò‡Ω†‡Ω≤‡ºã‡Ω¶‡æê‡Ωë‡ºã‡Ω°‡Ω≤‡ΩÇ‡ºã!)
// @description:el      ŒîŒ∑ŒºŒπŒøœÖœÅŒ≥ŒÆœÉœÑŒµ Œ±œÑŒµŒªŒµŒØœâœÑŒµœÇ Œ±œÄŒ±ŒΩœÑŒÆœÉŒµŒπœÇ Œ±œÄœå œÑŒø Œ≥ŒΩœéœÉœÑŒ∑ ChatGPT (œÉŒµ ŒøœÄŒøŒπŒ±Œ¥ŒÆœÄŒøœÑŒµ Œ≥ŒªœéœÉœÉŒ±!)
// @description:eo      Kreu nesfinaƒµajn respondojn el la ƒâio-scianta ChatGPT (en ajn lingvo!)
// @description:es      Genera respuestas infinitas desde el ChatGPT omnisciente (¬°en cualquier idioma!)
// @description:et      Loo l√µputuid vastuseid k√µike-teadvast ChatGPT-st (mis tahes keeles!)
// @description:eu      Sortu erantzun infinituak guztiz-arduratsuaren ChatGPT-tik (edozein hizkuntzan!)
// @description:fa      Ÿæÿßÿ≥ÿÆŸáÿß€å ÿ®€åŸæÿß€åÿßŸÜ€å ÿ±ÿß ÿßÿ≤ ChatGPT ŸáŸÖŸáÿØÿßŸÜÿß ÿ™ŸàŸÑ€åÿØ ⁄©ŸÜ€åÿØ (ÿ®Ÿá Ÿáÿ± ÿ≤ÿ®ÿßŸÜ€å!)
// @description:fi      Luo loputtomia vastauksia kaikkitiet√§v√§st√§ ChatGPT:st√§ (mill√§ tahansa kielell√§!)
// @description:fo      Skapa endalaus sv√∏r fr√° altvitandi ChatGPT (√° hv√∏rjum m√°lr√∏√∞!)
// @description:fr      G√©n√©rez des r√©ponses infinies √† partir de ChatGPT qui sait tout (dans n'importe quelle langue!)
// @description:fr-CA   G√©n√©rez des r√©ponses infinies √† partir de ChatGPT qui sait tout (dans n'importe quelle langue!)
// @description:gd      Cruthaich freagairtean gun cr√¨och √† ChatGPT a tha a' faighneachd gach c√†il (ann an sam bith c√†nan!)
// @description:gl      Xere as respostas infinitas do ChatGPT que todo o sabe (en calquera lingua!)
// @description:gu      ‡™ú‡´ç‡™û‡™æ‡™®‡™µ‡™æ‡™® ChatGPT ‡™•‡´Ä ‡™Ö‡™®‡™Ç‡™§ ‡™ú‡™µ‡™æ‡™¨‡´ã ‡™â‡™§‡´ç‡™™‡™® ‡™ï‡™∞‡´ã (‡™ï‡´ã‡™à ‡™™‡™£ ‡™≠‡™æ‡™∑‡™æ‡™Æ‡™æ‡™Ç!)
// @description:haw     Halele ªa i nƒÅ  ª≈çlelo pƒÅlulelo mai ke kupa  ªike loa o ChatGPT (i loko o kƒìlƒÅ  ª≈çlelo aku a ªe!)
// @description:he      ◊ô◊¶◊®◊ï ◊™◊©◊ï◊ë◊ï◊™ ◊ê◊ô◊†◊°◊ï◊§◊ô◊ï◊™ ◊û◊î-ChatGPT ◊î◊û◊ë◊ô◊ü ◊î◊õ◊ú (◊ë◊õ◊ú ◊©◊§◊î!)
// @description:hi      ‡§∏‡§≠‡•Ä-‡§ú‡§æ‡§®‡§®‡•á‡§µ‡§æ‡§≤‡•á ‡§ö‡•à‡§ü‡§ú‡•Ä‡§™‡•Ä‡§ü‡•Ä ‡§∏‡•á ‡§Ö‡§®‡§Ç‡§§ ‡§â‡§§‡•ç‡§§‡§∞‡•ã‡§Ç ‡§ï‡§æ ‡§â‡§§‡•ç‡§™‡§æ‡§¶‡§® ‡§ï‡§∞‡•á‡§Ç (‡§ï‡§ø‡§∏‡•Ä ‡§≠‡•Ä ‡§≠‡§æ‡§∑‡§æ ‡§Æ‡•á‡§Ç!)
// @description:hr      Generirajte beskrajne odgovore iz sveznajuƒáeg ChatGPT-a (na bilo kojem jeziku!)
// @description:ht      Jenere repons san fen soti nan ChatGPT k-ap konnen tout bagay yo (nan nenp√≤t lang!)
// @description:hu      V√©gtelen v√°laszokat gener√°ljon a mindentud√≥ ChatGPT-b≈ël (b√°rmely nyelven!)
// @description:hy      ’ç’ø’•’≤’Æ’•÷Ñ ’°’∂’Ω’°’∞’¥’°’∂’°÷É’°’Ø ’∫’°’ø’°’Ω’≠’°’∂’∂’•÷Ä ’°’¥’•’∂’°’£’´’ø’°’Ø’°’∂ ChatGPT-’´÷Å (÷Å’°’∂’Ø’°÷Å’°’Æ ’¨’•’¶’∏÷Ç’∂ ’¥’•’ª!)
// @description:id      Hasilkan jawaban tak terbatas dari ChatGPT yang tahu segalanya (dalam bahasa apa pun!)
// @description:is      B√∫i√∞ til endalaus sv√∂r fr√° allvissu ChatGPT (√° hva√∞a tungum√°li sem er!)
// @description:it      Genera risposte infinite dall'onnisciente ChatGPT (in qualsiasi lingua!)
// @description:ja      „ÅÇ„Çâ„ÇÜ„ÇãË®ÄË™û„ÅßÂÖ®Áü•„ÅÆChatGPT„Åã„ÇâÁÑ°Èôê„ÅÆÂõûÁ≠î„ÇíÁîüÊàê„Åó„Åæ„ÅôÔºÅ
// @description:jv      Mbukak panggung jawaban saka ChatGPT kang suw√©n√©h kab√®h (k√©nging basa apapun!)
// @description:ka      ·É®·Éî·É•·Éõ·Éî·Éú·Éò·Éó ·É£·É°·Éê·É°·É†·É£·Éö·Éù ·Éû·Éê·É°·É£·ÉÆ·Éî·Éë·Éò ·Éß·Éï·Éî·Éö·Éí·Éê·Éú·Éê·É¨·Éò·Éö·Éî·Éë·É£·Éö·Éò ChatGPT-·Éì·Éê·Éú (·Éú·Éî·Éö·Éê ·Éî·Éú·Éê·Éñ·Éî!)
// @description:kab     Kkes-as yidir seg yisem-asen n tafriqt ara ddunnit ChatGPT (di tifrat ara ddunit!)
// @description:kk      –ë–∞—Ä–ª—ã“õ —Ç—ñ–ª–¥–µ –±–∞—Ä –±—ñ–ª–≥–µ–Ω ChatGPT-–¥–µ–Ω —à–µ–∫—Å—ñ–∑ –∂–∞—É–∞–ø—Ç–∞—Ä –∂–∞—Å–∞—É (“õ–∞–Ω–¥–∞–π –¥–∞ —Ç—ñ–ª–¥–µ!)
// @description:km      ·ûî·ûÑ·üí·ûÄ·ûæ·ûè·ûÖ·ûò·üí·ûõ·ûæ·ûô·ûò·û∑·ûì·ûÉ·ûæ·ûâ·ûÖ·ûî·üã·ûñ·û∏ ChatGPT ·ûä·üÇ·ûõ·ûÖ·üÇ·ûÄ·ûü·ûÑ·üí·ûü·üê·ûô·ûë·û∂·üÜ·ûÑ·û¢·ûü·üã (·ûá·û∂·ûì·üã·ûÇ·üí·ûö·ûî·üã·ûó·û∂·ûü·û∂!)
// @description:kn      ‡≤é‡≤≤‡≥ç‡≤≤‡≤∞‡≥Å ‡≤§‡≤ø‡≤≥‡≤ø‡≤¶‡≤ø‡≤∞‡≥Å‡≤µ ‡≤ö‡≤æ‡≤ü‡≥ç‡≤ú‡≤ø‡≤™‡≤ø‡≤ü‡≤ø‡≤Ø‡≤ø‡≤Ç‡≤¶ ‡≤Ö‡≤®‡≤Ç‡≤§ ‡≤â‡≤§‡≥ç‡≤§‡≤∞‡≤ó‡≤≥‡≤®‡≥ç‡≤®‡≥Å ‡≤∞‡≤ö‡≤ø‡≤∏‡≤ø (‡≤Ø‡≤æ‡≤µ‡≥Å‡≤¶‡≥á ‡≤≠‡≤æ‡≤∑‡≥Ü‡≤Ø‡≤≤‡≥ç‡≤≤‡≤ø!)
// @description:ko      Ïñ¥Îñ§ Ïñ∏Ïñ¥Î°úÎì†ÏßÄ Î¨¥Í∂ÅÎ¨¥ÏßÑÌïú ÎãµÎ≥ÄÏùÑ ÎßåÎì§Ïñ¥ÎÇ¥Îäî ChatGPTÏûÖÎãàÎã§!
// @description:ku      Ji ChatGPT-√™, ku hem√Æ ti≈ütan dizane, bersiva li serbaz√™n li dor qew√Æ y√™n hilbijartin (bi herti≈üt√Æ zimanek!)
// @description:ky      –¢“Ø–∑ –±–∏–ª–∏–º–¥“Ø“Ø ChatGPT –±–æ—é–Ω—á–∞ —á—ã–≥–∞—Ä–º–∞–ª–∞—Ä–¥—ã –∂–∞—Å–∞
// @description:la      Genera infinitas responsiones de ChatGPT omniscio (in qualibet lingua!)
// @description:lb      Gener√©iert endlos √Ñntwerten vum allw√´ssende ChatGPT (op jiddere Sprooch!)
// @description:lo      ‡∫™‡ªâ‡∫≤‡∫á‡∫ú‡∫ª‡∫ô‡∫™‡∫ª‡∫î‡∫ó‡∫µ‡ªà‡∫™‡∫≤‡∫°‡∫≤‡∫î‡ªÄ‡∫•‡∫∑‡∫≠‡∫Å‡∫à‡∫≤‡∫Å‡∫û‡∫≤‡∫™‡∫≤‡∫ó‡∫µ‡ªà‡∫Æ‡∫π‡ªâ‡∫ö‡∫∏‡∫Å‡∫Å‡∫≥‡∫•‡∫±‡∫á ChatGPT (‡ªÉ‡∫ô‡∫û‡∫≤‡∫™‡∫≤‡ªÉ‡∫î‡ªú‡∫∂‡ªà‡∫á!)
// @description:lt      Sugeneruokite begalinƒØ atsakym≈≥ kiekƒØ i≈° visai ≈æinoanƒçio ChatGPT (bet kuria kalba!)
// @description:lv      ƒ¢enerƒì nebeidzamus atbil≈æu variantus no vissapratƒ´gƒÅ ChatGPT (jebkurƒÅ valodƒÅ!)
// @description:mg      Mandoza ny valiny miaraka amin'ny ChatGPT mahalala ny zavatra rehetra (amin'ny fiteny iray kokoa!)
// @description:mi      Whakap≈´mau i ngƒÅ whakautu kore mutunga mai i te ChatGPT matau i ngƒÅ reo katoa!
// @description:mk      –ì–µ–Ω–µ—Ä–∏—Ä–∞—ò—Ç–µ –±–µ–∑–±—Ä–æ—ò –æ–¥–≥–æ–≤–æ—Ä–∏ –æ–¥ —Å√®–∑–Ω–∞–µ–Ω–∞—Ç–∞ ChatGPT (–Ω–∞ –±–∏–ª–æ –∫–æ—ò —ò–∞–∑–∏–∫!)
// @description:ml      ‡¥é‡¥®‡µç‡¥®‡µÜ‡¥¥‡µÅ‡¥§‡¥æ‡µª ‡¥Ö‡¥®‡¥®‡µç‡¥Ø‡¥®‡¥æ‡¥Ø ChatGPT (‡¥è‡¥§‡µÜ‡¥ô‡µç‡¥ï‡¥ø‡¥≤‡µÅ‡¥Ç ‡¥≠‡¥æ‡¥∑‡¥Ø‡¥ø‡µΩ) ‡¥á‡¥®‡µç‡¥®‡µá‡¥ï‡µç‡¥ï‡µÅ‡¥Ç ‡¥µ‡µá‡¥£‡µç‡¥ü‡¥ø ‡¥Ö‡¥µ‡¥∏‡¥æ‡¥®‡¥ø‡¥™‡µç‡¥™‡¥ø‡¥ï‡µç‡¥ï‡µÅ‡¥ï!
// @description:mn      –°“Ø“Ø–ª–¥ “Ø–ª–¥—Å—ç–Ω—ç—ç—Å—ç—ç —Ö–∞–π—Ä—Ü–∞–≥ –±–æ–ª–æ—Ö ChatGPT (—è–º–∞—Ä —á —Ö—ç–ª –¥—ç—ç—Ä) –¥—ç—ç—Ä—Ö—ç—ç—Ä —è—Ä–∏—Ö
// @description:ms      Cipta pelbagai jawapan daripada ChatGPT yang tahu segala-galanya (dalam apa-apa bahasa!)
// @description:mt      Iƒ°ƒ°enera risposti infiniti mill-ChatGPT li kollha jaf (f'xi lingwa!)
// @description:my      ·Ä°·Ä¨·Ä∏·Äú·ÄØ·Ä∂·Ä∏·ÄÄ·Ä≠·ÄØ·Äû·ÄÑ·Ä∫·Äõ·Ä≠·ÄØ·Ä∏·Äõ·Ä≠·ÄØ·Ä∏·ÄÜ·ÄΩ·Ä≤·Äî·Ä≠·ÄØ·ÄÑ·Ä∫·Äû·Ää·Ä∫·Ä∑ ChatGPT (·Äê·ÄÖ·Ä∫·ÄÅ·ÄØ·Äô·Äæ·Ä¨·Äö·Ä∞·Äû·ÄØ·Ä∂·Ä∏·Äõ·Äî·Ä∫!)
// @description:ne      ‡§∏‡§¨‡•à-‡§ú‡•ç‡§û‡§æ‡§®‡•Ä ChatGPT ‡§¨‡§æ‡§ü ‡§Ö‡§®‡§Ç‡§§ ‡§â‡§§‡•ç‡§§‡§∞‡§π‡§∞‡•Ç ‡§â‡§§‡•ç‡§™‡§®‡•ç‡§® ‡§ó‡§∞‡•ç‡§®‡•Å‡§π‡•ã‡§∏‡•ç (‡§ï‡•Å‡§®‡•à ‡§™‡§®‡§ø ‡§≠‡§æ‡§∑‡§æ‡§Æ‡§æ!)
// @description:nl      Genereer eindeloze antwoorden van alwetende ChatGPT (in elke taal!)
// @description:no      Generer endel√∏se svar fra allvitende ChatGPT (p√• hvilket som helst spr√•k!)
// @description:ny      Galimoto mabwino a mtendere zosiyanasiyana kuchokera ku ChatGPT woyankhula zonse! (muyankhulitsa chilichonse!)
// @description:pa      ‡®∏‡®≠ ‡®ú‡®æ‡®£ ‡®µ‡®æ‡®≤‡©á ChatGPT ‡®§‡©ã‡®Ç ‡®≤‡©∞‡®¨‡©á ‡®â‡©±‡®§‡®∞‡®æ‡®Ç ‡®®‡©Ç‡©∞ ‡®¨‡®£‡®æ‡®ì (‡®ï‡®ø‡®∏‡©á ‡®µ‡©Ä ‡®≠‡®æ‡®∏‡®º‡®æ ‡®µ‡®ø‡©±‡®ö!)
// @description:pap     Hasi respuesta sinfin di ChatGPT ku tur sabi (na kua idioma!)
// @description:pl      Generuj niesko≈Ñczone odpowiedzi od wszechwiedzƒÖcego ChatGPT (w dowolnym jƒôzyku!)
// @description:ps      ÿØ Ÿáÿ∫Ÿà€å ⁄ÜŸº⁄©ÿßŸÑ ChatGPT ŸÑÿÆŸàÿß ŸÜŸáÿß€åÿ™ ÿ¨Ÿàÿßÿ®ŸàŸÜŸá ÿ¨Ÿà⁄ìŸá ⁄©⁄ìÿ¶ (ÿØ Ÿáÿ± €åŸàŸá ⁄òÿ®Ÿá ⁄©€å!)
// @description:pt      Gere respostas infinitas do ChatGPT onisciente (em qualquer idioma!)
// @description:pt-BR   Gere respostas infinitas do ChatGPT onisciente (em qualquer idioma!)
// @description:rn      Basha inzira nk'itandukanye z'uko ChatGPT uzi (mu rurimi rwose!)
// @description:ro      GenereazƒÉ rƒÉspunsuri infinite de la ChatGPT omniscient (√Æn orice limbƒÉ!)
// @description:ru      –ì–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã –æ—Ç –≤—Å–µ–∑–Ω–∞—é—â–µ–≥–æ ChatGPT (–Ω–∞ –ª—é–±–æ–º —è–∑—ã–∫–µ!)
// @description:rw      Banda inama z'imirimo isigaye zose z'umuco wa ChatGPT (mu rurimi rwose!)
// @description:sg      Tia ngamana nga mbetela ti ChatGPT tozuwa mitayi mingi (po wundi ndimi yo ngambo!)
// @description:si      ‡∑É‡∑í‡∂∫‡∑Ö‡∑î ‡∂Ø‡∑ê‡∂±‡∂ß‡∂∏‡∂≠‡∑ä ‡∑É‡∑Ñ‡∂≠‡∑í‡∂ö‡∂¥‡∂≠‡∑ä‡∂ö‡∂ª‡∂± ‡∂≠‡∑Ä‡∂≠‡∑ä ‡∑É‡∑í‡∂≠‡∑í‡∂∫‡∂∏‡∑ä ‡∑É‡∑ê‡∂ö‡∑É‡∑î‡∂∏‡∑ä ‡∂Ω‡∂∂‡∑è ‡∂Ø‡∑ô‡∂±‡∑ä‡∂±‡∑è‡∑Ä‡∑ñ ChatGPT ‡∑É‡∑ë‡∂Ø‡∑ì‡∂∏ (‡∂ï‡∂±‡∑ë‡∂∏ ‡∂∑‡∑è‡∑Ç‡∑è‡∑Ä‡∑ô‡∂±‡∑ä‡∂∏!)
// @description:sk      Generujte nekoneƒçn√© odpovede od v≈°evietaj√∫ceho ChatGPT (v akomkoƒævek jazyku!)
// @description:sl      Generirajte neskonƒçne odgovore iz vsevednega ChatGPT (v katerem koli jeziku!)
// @description:sm      Faia se faiga tele i le ChatGPT eseese (i nisi gagana!)
// @description:sn      Simudza mhinduro dzakawanda kubva kune ChatGPT ichiwanikwa chisarudzo! (mune rimwe nguva!)
// @description:so      Kor u qaado jawaabo kala duwan oo ka soo saar ChatGPT (luuqad ka mid ah!)
// @description:sr      –ì–µ–Ω–µ—Ä–∏—à–∏—Ç–µ –±–µ–∑–±—Ä–æ—ò –æ–¥–≥–æ–≤–æ—Ä–∞ –æ–¥ —Å–≤–µ–º–æ—õ–Ω–æ–≥ ChatGPT (–Ω–∞ –±–∏–ª–æ –∫–æ–º —ò–µ–∑–∏–∫—É!)
// @description:sv      Generera o√§ndliga svar fr√•n allvetande ChatGPT (p√• valfritt spr√•k!)
// @description:sw      Toa majibu yasiyokuwa na mwisho kutoka kwa ChatGPT mwenye maarifa yote (katika lugha yoyote!)
// @description:ta      ‡ÆÖ‡Æ©‡Øà‡Æ§‡Øç‡Æ§‡ØÅ ‡Æ§‡Æï‡Æµ‡Æ≤‡Øà‡ÆØ‡ØÅ‡ÆÆ‡Øç ‡ÆÖ‡Æ±‡Æø‡ÆØ‡Æ™‡Øç‡Æ™‡Æü‡Øç‡Æü ‡Æö‡ØÜ‡Ææ‡Æ®‡Øç‡Æ§‡ÆÆ‡Ææ‡Æ© ChatGPT ‡Æá‡Æ≤‡Æø‡Æ∞‡ØÅ‡Æ®‡Øç‡Æ§‡ØÅ ‡ÆÆ‡ØÅ‡Æü‡Æø‡Æµ‡ØÅ‡Æï‡Æ≥‡Øà ‡Æâ‡Æ∞‡ØÅ‡Æµ‡Ææ‡Æï‡Øç‡Æï‡Æµ‡ØÅ‡ÆÆ‡Øç (‡Æé‡Æ®‡Øç‡Æ§ ‡ÆÆ‡Øä‡Æ¥‡Æø‡ÆØ‡Æø‡Æ≤‡ØÅ‡ÆÆ‡Øç!)
// @description:te      ‡∞Ö‡∞®‡±ç‡∞®‡∞ø‡∞Ç‡∞ü‡∞ø‡∞®‡±Ä‡∞ï‡∞ø‡∞Ç‡∞ü ‡∞Æ‡∞æ‡∞ü‡∞≤‡±Å ‡∞∞‡∞æ‡∞Ø‡∞Ç‡∞°‡∞ø ChatGPT ‡∞ó‡±Å‡∞∞‡∞ø‡∞Ç‡∞ö‡∞ø ‡∞Ö‡∞®‡±á‡∞ï ‡∞ú‡∞µ‡∞æ‡∞¨‡∞æ‡∞≤‡∞®‡±Å ‡∞∏‡±É‡∞∑‡±ç‡∞ü‡∞ø‡∞Ç‡∞ö‡∞Ç‡∞°‡∞ø (‡∞è‡∞¶‡±à‡∞®‡∞æ ‡∞≠‡∞æ‡∞∑‡∞≤‡±ã!)
// @description:tg      “∂–∞–≤–æ–±“≥–æ–∏ –±–µ—Å—É–¥–∞–Ω–Ω–∏ ChatGPT–∏ “≥–∞–º–∞–∏—Ñ–∞“õ–∞—Ç (–¥–∞—Ä —è–∫ –∑–∞–±–æ–Ω–∏ –º—É–∞–π—è–Ω–∏!)
// @description:th      ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡πÑ‡∏°‡πà‡∏™‡∏¥‡πâ‡∏ô‡∏™‡∏∏‡∏î‡∏à‡∏≤‡∏Å ChatGPT ‡∏ó‡∏µ‡πà‡∏£‡∏π‡πâ‡∏ó‡∏∏‡∏Å‡∏™‡∏¥‡πà‡∏á (‡πÉ‡∏ô‡∏†‡∏≤‡∏©‡∏≤‡πÉ‡∏î‡∏Å‡πá‡πÑ‡∏î‡πâ!)
// @description:ti      ·ä≠·à≠·àµ·âµ·äï ·àà·àõ·ãç·å£·âµ ·ä®·åà·åΩ·â≥·ãç·äï ChatGPT ·ã®·â∞·ä®·à≥·àΩ ·ä†·àµ·â∞·ä´·ä≠·àç ·ä†·àµ·â∞·ä´·ä≠·àé·âµ (·â†·ä•·ãç·äê·âµ ·âã·äï·âã!)
// @description:tk      ≈ûe√Ωle anla≈üyl√Ωan ChatGPT (her hili √º√ßin) arasyndan b√§≈üm√º≈àhat jawaplar d√∂ret
// @description:tn      Hlela zitsha zwine zwi·π±hiselela kha ChatGPT vhufudzi·π±e (muvhili wo vha u ite!)
// @description:to      Fakatonutonu  ªihe ngƒÅuekesi mei he ChatGPT fakaongoongo toenga (i he lea faka-Tonga ia!)
// @description:tpi     Sanapim hamamasples long save olsem ChatGPT i masples (long wanpela tok ples!)
// @description:tr      Bilge ChatGPT'den sonsuz cevaplar √ºret (herhangi bir dilde!)
// @description:uk      –ì–µ–Ω–µ—Ä—É–π—Ç–µ –±–µ–∑–∫—ñ–Ω–µ—á–Ω—ñ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ –≤—ñ–¥ —É—Å–µ–∑–Ω–∞—é—á–æ–≥–æ ChatGPT (–Ω–∞ –±—É–¥—å-—è–∫—ñ–π –º–æ–≤—ñ!)
// @description:ur      ÿ≥ÿ® ÿ¨ÿßŸÜŸÜ€í ŸàÿßŸÑ€í ChatGPT ÿ≥€í ŸÑÿßŸÖÿ™ŸÜÿß€Å€å ÿ¨Ÿàÿßÿ®ÿßÿ™ Ÿæ€åÿØÿß ⁄©ÿ±€å⁄∫ (⁄©ÿ≥€å ÿ®⁄æ€å ÿ≤ÿ®ÿßŸÜ ŸÖ€å⁄∫!)
// @description:uz      Barcha biladigan ChatGPT dan cheklovli javoblar oling (hech qanday tilda ham)!
// @description:vi      T·∫°o ra v√¥ s·ªë c√¢u tr·∫£ l·ªùi t·ª´ ChatGPT th√¥ng minh (b·∫±ng b·∫•t k·ª≥ ng√¥n ng·ªØ n√†o!)
// @description:xh      Bhala izinto ezingekwaziyo eziyimfihlo kusuka ku ChatGPT (ngolwimi lwanyanetha!)
// @description:yi      ◊ì◊ñ◊©◊¢◊†◊¢◊®◊ô◊ô◊ò ◊°◊ê÷∏◊£ ◊¢◊†◊ò◊§÷ø◊¢◊®◊° ◊§÷ø◊ï◊ü ◊ê÷∑◊ú◊¢-◊í◊¢◊ï◊ï◊ô◊°◊ü ChatGPT (◊ê◊ô◊ü ◊ß◊ô◊ô◊ü ◊©◊§÷º◊®◊ê÷∑◊ö!)
// @description:zh      ‰ªéÊó†ÊâÄ‰∏çÁü•ÁöÑ ChatGPT ÁîüÊàêÊó†Á©∑Êó†Â∞ΩÁöÑÁ≠îÊ°à (Áî®‰ªª‰ΩïËØ≠Ë®Ä!)
// @description:zh-CN   ‰ªéÊó†ÊâÄ‰∏çÁü•ÁöÑ ChatGPT ÁîüÊàêÊó†Á©∑Êó†Â∞ΩÁöÑÁ≠îÊ°à (Áî®‰ªª‰ΩïËØ≠Ë®Ä!)
// @description:zh-HK   ÂæûÁÑ°ÊâÄ‰∏çÁü•ÁöÑ ChatGPT ÁîüÊàêÁÑ°Á™ÆÁÑ°Áõ°ÁöÑÁ≠îÊ°à (Áî®‰ªª‰ΩïË™ûË®Ä!)
// @description:zh-SG   ‰ªéÊó†ÊâÄ‰∏çÁü•ÁöÑ ChatGPT ÁîüÊàêÊó†Á©∑Êó†Â∞ΩÁöÑÁ≠îÊ°à (Áî®‰ªª‰ΩïËØ≠Ë®Ä!)
// @description:zh-TW   ÂæûÁÑ°ÊâÄ‰∏çÁü•ÁöÑ ChatGPT ÁîüÊàêÁÑ°Á™ÆÁÑ°Áõ°ÁöÑÁ≠îÊ°à (Áî®‰ªª‰ΩïË™ûË®Ä!)
// @author              Adam Lui
// @namespace           https://github.com/adamlui
// @version             2024.10.1.3
// @license             MIT
// @match               *://chatgpt.com/*
// @match               *://chat.openai.com/*
// @icon                https://media.chatgptinfinity.com/images/icons/infinity-symbol/circled/icon48.png?65fcf31
// @icon64              https://media.chatgptinfinity.com/images/icons/infinity-symbol/circled/icon64.png?65fcf31
// @compatible          chrome
// @compatible          firefox
// @compatible          edge
// @compatible          opera
// @compatible          brave
// @compatible          vivaldi
// @compatible          waterfox
// @compatible          librewolf
// @compatible          ghost
// @compatible          qq
// @compatible          whale
// @compatible          kiwi
// @require             https://cdn.jsdelivr.net/npm/@kudoai/chatgpt.js@3.3.2/dist/chatgpt.min.js#sha256-Km9krlhXv0+GNYIkPGpWra6wVqBxlikiHuhsBIK8X0k=
// @require             https://cdn.jsdelivr.net/gh/adamlui/chatgpt-infinity@a0d6630c225f26ae7cd5ccd1fda39bc45177bebc/chrome/extension/lib/dom.js#sha256-pbJ15rhD5UtxxSCn+L0ybKnlrT3SNm3t8Dc99qtN4KQ=
// @connect             cdn.jsdelivr.net
// @connect             greasyfork.org
// @grant               GM_setValue
// @grant               GM_getValue
// @grant               GM_registerMenuCommand
// @grant               GM_unregisterMenuCommand
// @grant               GM_xmlhttpRequest
// @grant               GM.xmlHttpRequest
// @noframes
// @downloadURL         https://update.greasyfork.org/scripts/465051/chatgpt-infinity.user.js
// @updateURL           https://update.greasyfork.org/scripts/465051/chatgpt-infinity.meta.js
// @homepageURL         https://www.chatgptinfinity.com
// @supportURL          https://support.chatgptinfinity.com
// @contributionURL     https://github.com/sponsors/adamlui
// ==/UserScript==

// Documentation: https://docs.chatgptinfinity.com
// NOTE: This script relies on the powerful chatgpt.js library @ https://chatgpt.js.org ¬© 2023‚Äì2024 KudoAI & contributors under the MIT license.

(async () => {

    // Init APP info
    const app = {
        name: 'ChatGPT Infinity', symbol: '‚àû', configKeyPrefix: 'chatGPTinfinity',
        author: { name: 'Adam Lui', url: 'https://github.com/adamlui' },
        urls: {
            alternativeTo: 'https://alternativeto.net/software/chatgpt-infinity',
            chatgptJS: 'https://chatgpt.js.org',
            donate: {
                cashApp: 'https://cash.app/$adamlui',
                gitHub: 'https://github.com/sponsors/adamlui',
                payPal: 'https://paypal.me/adamlui'
            },
            gitHub: 'https://github.com/adamlui/chatgpt-infinity',
            greasyFork: 'https://greasyfork.org/scripts/465051-chatgpt-infinity',
            mediaHost: 'https://media.chatgptinfinity.com',
            productHunt: 'https://www.producthunt.com/products/chatgpt-infinity',
            relatedApps: 'https://github.com/adamlui/chatgpt-apps',
            support: 'https://support.chatgptinfinity.com'
        },
        latestAssetCommitHash: 'bdddd20' // for cached messages.json + navicon
    }
    app.urls.assetHost = app.urls.gitHub.replace('github.com', 'cdn.jsdelivr.net/gh') + `@${app.latestAssetCommitHash}`
    app.urls.update = app.urls.greasyFork.replace('https://', 'https://update.')
        .replace(/(\d+)-?([a-zA-Z-]*)$/, (_, id, name) => `${id}/${ name || 'script' }.meta.js`)

    // Init ENV info
    const env = {
        browser: { isMobile: chatgpt.browser.isMobile(), isFF: chatgpt.browser.isFirefox() },
        scriptManager: (() => { try { return GM_info.scriptHandler } catch (err) { return 'other' }})()
    }

    // Init CONFIG
    const config = { userLanguage: chatgpt.getUserLanguage() }
    const settings = {
        load(...keys) {
            if (Array.isArray(keys[0])) keys = keys[0] // use 1st array arg, else all comma-separated ones
            keys.forEach(key => config[key] = GM_getValue(app.configKeyPrefix + '_' + key, false))
        },
        save(key, value) { GM_setValue(app.configKeyPrefix + '_' + key, value) ; config[key] = value }
    } ; settings.load('autoScrollDisabled', 'autoStart', 'replyInterval', 'replyLanguage', 'replyTopic', 'toggleHidden')
    if (!config.replyLanguage) settings.save('replyLanguage', config.userLanguage) // init reply language if unset
    if (!config.replyTopic) settings.save('replyTopic', 'ALL') // init reply topic if unset
    if (!config.replyInterval) settings.save('replyInterval', 7) // init refresh interval to 7 secs if unset

    // Init app MESSAGES
    const xhr = env.scriptManager == 'OrangeMonkey' ? GM_xmlhttpRequest : GM.xmlHttpRequest
    app.msgs = {
        appName: app.name,
        appAuthor: app.author.name,
        appDesc: 'Generate endless answers from all-knowing ChatGPT (in any language!)',
        menuLabel_infinityMode: 'Infinity Mode',
        menuLabel_autoStart: 'Auto-Start',
        menuLabel_toggleVis: 'Toggle Visibility',
        menuLabel_autoScroll: 'Auto-Scroll',
        menuLabel_replyLang: 'Reply Language',
        menuLabel_replyTopic: 'Reply Topic',
        menuLabel_all: 'ALL',
        menuLabel_replyInt: 'Reply Interval',
        menuLabel_about: 'About',
        menuLabel_donate: 'Please send a donation',
        menuLabel_disabled: 'Disabled (extension installed)',
        about_version: 'Version',
        about_poweredBy: 'Powered by',
        about_sourceCode: 'Source code',
        prompt_updateReplyLang: 'Update reply language',
        prompt_updateReplyTopic: 'Update reply topic',
        prompt_orEnter: 'or enter',
        prompt_updateReplyInt: 'Update reply interval (minimum 5 secs)',
        alert_replyLangUpdated: 'Language updated',
        alert_willReplyIn: 'will reply in',
        alert_yourSysLang: 'your system language',
        alert_replyTopicUpdated: 'Topic updated',
        alert_willAnswer: 'will answer questions',
        alert_onTopicOf: 'on the topic of',
        alert_onAllTopics: 'on ALL topics',
        alert_replyIntUpdated: 'Interval updated',
        alert_willReplyEvery: 'will reply every',
        alert_choosePlatform: 'Choose a platform',
        alert_updateAvail: 'Update available',
        alert_newerVer: 'An update to',
        alert_isAvail: 'is available',
        alert_upToDate: 'Up-to-date',
        alert_isUpToDate: 'is up-to-date',
        alert_showYourSupport: 'Show your support',
        alert_isOSS: 'is open-source software built & maintained for free through 100% volunteer efforts',
        alert_despiteAffliction: 'Despite being severely afflicted by',
        alert_longCOVID: 'long COVID',
        alert_since2020: 'since 2020',
        alert_byDonatingResults: 'by donating, you help me to continue improving, fixing bugs, adding new features, and making the software even better',
        alert_yourContrib: 'Your contribution',
        alert_noMatterSize: 'no matter the size',
        alert_directlySupports: 'directly supports my unpaid efforts to ensure this project remains free and open for all to use',
        alert_tyForSupport: 'Thank you for your support',
        alert_author: 'author',
        btnLabel_moreApps: 'More ChatGPT Apps',
        btnLabel_rateUs: 'Rate Us',
        btnLabel_getSupport: 'Get Support',
        btnLabel_updateCheck: 'Check for Updates',
        btnLabel_update: 'Update',
        btnLabel_dismiss: 'Dismiss',
        link_viewChanges: 'View changes',
        unit_seconds: 'seconds',
        state_enabled: 'enabled',
        state_disabled: 'disabled',
        state_on: 'on',
        state_off: 'off'
    }
    if (!config.userLanguage.startsWith('en')) { // localize msgs for non-English users
        const localizedMsgs = await new Promise(resolve => {
            const msgHostDir = app.urls.assetHost + '/greasemonkey/_locales/',
                  msgLocaleDir = ( config.userLanguage ? config.userLanguage.replace('-', '_') : 'en' ) + '/'
            let msgHref = msgHostDir + msgLocaleDir + 'messages.json', msgXHRtries = 0
            function fetchMsgs() { xhr({ method: 'GET', url: msgHref, onload: handleMsgs })}
            function handleMsgs(resp) {
                try { // to return localized messages.json
                    const msgs = JSON.parse(resp.responseText), flatMsgs = {}
                    for (const key in msgs)  // remove need to ref nested keys
                        if (typeof msgs[key] == 'object' && 'message' in msgs[key])
                            flatMsgs[key] = msgs[key].message
                    resolve(flatMsgs)
                } catch (err) { // if bad response
                    msgXHRtries++ ; if (msgXHRtries == 3) return resolve({}) // try up to 3X (original/region-stripped/EN) only
                    msgHref = config.userLanguage.includes('-') && msgXHRtries == 1 ? // if regional lang on 1st try...
                        msgHref.replace(/([^_]+_[^_]+)_[^/]*(\/.*)/, '$1$2') // ...strip region before retrying
                            : ( msgHostDir + 'en/messages.json' ) // else use default English messages
                    fetchMsgs()
                }
            }
            fetchMsgs()
        })
        Object.assign(app.msgs, localizedMsgs)
    }

    // Init SETTINGS props
    Object.assign(app, { settings: {
        autoStart: { type: 'toggle', label: app.msgs.menuLabel_autoStart },
        toggleHidden: { type: 'toggle', label: app.msgs.menuLabel_toggleVis },
        autoScrollDisabled: { type: 'toggle', label: app.msgs.menuLabel_autoScroll },
        replyLanguage: { type: 'prompt', symbol: 'üåê', label: app.msgs.menuLabel_replyLang },
        replyTopic: { type: 'prompt', symbol: 'üß†', label: app.msgs.menuLabel_replyTopic },
        replyInterval: { type: 'prompt', symbol: '‚åö', label: app.msgs.menuLabel_replyInt }
    }})

    // Define MENU functions

    const menu = {
        ids: [], state: {
            symbols: ['‚ùå', '‚úîÔ∏è'], separator: env.scriptManager == 'Tampermonkey' ? ' ‚Äî ' : ': ',
            words: [app.msgs.state_off.toUpperCase(), app.msgs.state_on.toUpperCase()]
        },

        register() {

            // Init prompt setting status labels
            const re_all = new RegExp(`^(${app.msgs.menuLabel_all}|all|any|every)$`, 'i')
            app.settings.replyLanguage.status = config.replyLanguage
            app.settings.replyTopic.status = re_all.test(config.replyTopic) ? app.msgs.menuLabel_all : toTitleCase(config.replyTopic)
            app.settings.replyInterval.status = `${config.replyInterval}s`

            // Add Infinity Mode toggle
            const imLabel = `${menu.state.symbols[+!!config.infinityMode]} `
                          + `${app.msgs.menuLabel_infinityMode} ‚àû `
                          + menu.state.separator + menu.state.words[+!!config.infinityMode]
            menu.ids.push(GM_registerMenuCommand(imLabel, () => { document.getElementById('infinity-toggle-label').click() }))

            // Add setting entries
            Object.keys(app.settings).forEach(key => {
                const settingIsEnabled = config[key] ^ /disabled|hidden/i.test(key),
                      menuLabel = `${ app.settings[key].symbol || menu.state.symbols[+settingIsEnabled] } ${app.settings[key].label}`
                                +   ( app.settings[key].type == 'toggle' ? ( menu.state.separator + menu.state.words[+settingIsEnabled] )
                                                                         : `‚Äî ${app.settings[key].status}` )
                menu.ids.push(GM_registerMenuCommand(menuLabel, () => {
                    if (key == 'replyLanguage') {
                        while (true) {
                            let replyLanguage = prompt(
                                `${app.msgs.prompt_updateReplyLang}:`, config.replyLanguage)
                            if (replyLanguage === null) break // user cancelled so do nothing
                            else if (!/\d/.test(replyLanguage)) {
                                replyLanguage = ( // auto-case for menu/alert aesthetics
                                    [2, 3].includes(replyLanguage.length) || replyLanguage.includes('-') ? replyLanguage.toUpperCase()
                                    : replyLanguage.charAt(0).toUpperCase() + replyLanguage.slice(1).toLowerCase() )
                                settings.save('replyLanguage', replyLanguage || config.userLanguage)
                                siteAlert(( app.msgs.alert_replyLangUpdated ) + '!', // title
                                    ( app.msgs.appName ) + ' ' // msg
                                        + ( app.msgs.alert_willReplyIn ) + ' '
                                        + ( replyLanguage || app.msgs.alert_yourSysLang) + '.')
                                if (config.infinityMode) infinity.restart({ target: 'new' }) // using new reply language                        
                                break
                            }
                        }
                    } else if (key == 'replyTopic') {
                        const replyTopic = prompt(( app.msgs.prompt_updateReplyTopic )
                                        + ' (' + ( app.msgs.prompt_orEnter ) + ' \'ALL\'):', config.replyTopic)
                        if (replyTopic !== null) { // user didn't cancel
                            const str_replyTopic = replyTopic.toString()
                            settings.save('replyTopic', !replyTopic || re_all.test(str_replyTopic) ? 'ALL' : str_replyTopic)
                            siteAlert(( app.msgs.alert_replyTopicUpdated ) + '!',
                                ( app.msgs.appName ) + ' '
                                    + ( app.msgs.alert_willAnswer ) + ' '
                                    + ( !replyTopic || re_all.test(str_replyTopic)
                                        ? app.msgs.alert_onAllTopics
                                        : (( app.msgs.alert_onTopicOf ) + ' ' + str_replyTopic ))
                                    + '!'
                            )
                            if (config.infinityMode) { // restart session using new reply topic
                                chatgpt.stop() ; document.getElementById('infinity-toggle-label').click() // toggle off
                                setTimeout(() => { document.getElementById('infinity-toggle-label').click() }, 500) // toggle on
                            }
                        }
                    } else if (key == 'replyInterval') {
                        while (true) {
                            const replyInterval = prompt(
                                `${app.msgs.prompt_updateReplyInt}:`, config.replyInterval)
                            if (replyInterval === null) break // user cancelled so do nothing
                            else if (!isNaN(parseInt(replyInterval, 10)) && parseInt(replyInterval, 10) > 4) { // valid int set
                                settings.save('replyInterval', parseInt(replyInterval, 10))
                                siteAlert(( app.msgs.alert_replyIntUpdated ) + '!', // title
                                    ( app.msgs.appName ) + ' ' // msg
                                        + ( app.msgs.alert_willReplyEvery ) + ' '
                                        + replyInterval + ' ' + ( app.msgs.unit_seconds ) + '.')
                                if (config.infinityMode) infinity.restart({ target: 'self' }) // using new reply interval                    
                                break
                            }
                        }
                    } else { // save toggled state + notify
                        settings.save(key, !config[key])
                        notify(`${app.settings[key].label}: ${menu.state.words[+(/disabled|hidden/i.test(key) ^ config[key])]}`)
                    }
                    syncConfigToUI()
                }))
            })

            // Add About entry
            const aboutLabel = `üí° ${app.msgs.menuLabel_about} ${app.msgs.appName}`
            menu.ids.push(GM_registerMenuCommand(aboutLabel, modals.about.show))

            // Add Donate entry
            const donateLabel = `üíñ ${app.msgs.menuLabel_donate}`
            menu.ids.push(GM_registerMenuCommand(donateLabel, modals.donate.show))
        },

        refresh() {
            if (env.scriptManager == 'OrangeMonkey') return
            for (const id of menu.ids) { GM_unregisterMenuCommand(id) } menu.register()
        }
    }

    function updateCheck() {

        // Fetch latest meta
        const currentVer = GM_info.script.version
        xhr({
            method: 'GET', url: app.urls.update + '?t=' + Date.now(),
            headers: { 'Cache-Control': 'no-cache' },
            onload: response => { const updateAlertWidth = 377

                // Compare versions
                const latestVer = /@version +(.*)/.exec(response.responseText)[1]
                for (let i = 0 ; i < 4 ; i++) { // loop thru subver's
                    const currentSubVer = parseInt(currentVer.split('.')[i], 10) || 0,
                          latestSubVer = parseInt(latestVer.split('.')[i], 10) || 0
                    if (currentSubVer > latestSubVer) break // out of comparison since not outdated
                    else if (latestSubVer > currentSubVer) { // if outdated

                        // Alert to update
                        const updateModalID = siteAlert(`üöÄ ${app.msgs.alert_updateAvail}!`, // title
                            `${app.msgs.alert_newerVer} ${app.msgs.appName} `
                                + `(v${latestVer}) ${app.msgs.alert_isAvail}!  `
                                + '<a target="_blank" rel="noopener" style="font-size: 0.7rem" '
                                    + 'href="' + app.urls.gitHub + '/commits/main/greasemonkey/'
                                    + app.urls.update.replace(/.*\/(.*)meta\.js/, '$1user.js') + '"'
                                    + `> ${app.msgs.link_viewChanges}</a>`,
                            function update() { // button
                                modals.safeWinOpen(app.urls.update.replace('meta.js', 'user.js') + '?t=' + Date.now())
                            }, '', updateAlertWidth
                        )

                        // Localize button labels if needed
                        if (!config.userLanguage.startsWith('en')) {
                            const updateAlert = document.querySelector(`[id="${updateModalID}"]`),
                                  updateBtns = updateAlert.querySelectorAll('button')
                            updateBtns[1].textContent = app.msgs.btnLabel_update
                            updateBtns[0].textContent = app.msgs.btnLabel_dismiss
                        }

                        return
                }}

                // Alert to no update, return to About modal
                siteAlert(`${app.msgs.alert_upToDate}!`, // title
                    `${app.msgs.appName} (v${currentVer}) ${app.msgs.alert_isUpToDate}!`, // msg
                    '', '', updateAlertWidth
                )
                modals.about.show()
    }})}

    function toTitleCase(str) {
        const words = str.toLowerCase().split(' ')
        for (let i = 0 ; i < words.length ; i++) // for each word
            words[i] = words[i][0].toUpperCase() + words[i].slice(1) // title-case it
        return words.join(' ') // join'em back together
    }

    // Define FEEDBACK functions

    function notify(msg, pos = '', notifDuration = '', shadow = '') {

        // Strip state word to append colored one later
        const foundState = menu.state.words.find(word => msg.includes(word))
        if (foundState) msg = msg.replace(foundState, '')

        // Show notification
        chatgpt.notify(`${app.symbol} ${msg}`, pos, notifDuration, shadow || chatgpt.isDarkMode() ? '' : 'shadow')
        const notif = document.querySelector('.chatgpt-notif:last-child')

        // Append styled state word
        if (foundState) {
            const styledState = document.createElement('span')
            styledState.style.cssText = `color: ${
                foundState == menu.state.words[0] ? '#ef4848 ; text-shadow: rgba(255, 169, 225, 0.44) 2px 1px 5px'
                                                  : '#5cef48 ; text-shadow: rgba(255, 250, 169, 0.38) 2px 1px 5px' }`
            styledState.append(foundState) ; notif.append(styledState)
        }
    }

    function siteAlert(title = '', msg = '', btns = '', checkbox = '', width = '') {
        return chatgpt.alert(title, msg, btns, checkbox, width )}

    // Define MODAL functions

    const modals = {
        stack: [],

        about: {
            show() {
                modals.stack.unshift('about') ; modals.stack = [...new Set(modals.stack)] // track for nav

                // Show alert
                const chatgptJSver = (/chatgpt-([\d.]+)\.min/.exec(GM_info.script.header) || [null, ''])[1],
                      headingStyle = 'font-size: 1.15rem',
                      pStyle = 'position: relative ; left: 3px',
                      pBrStyle = 'position: relative ; left: 4px ',
                      aStyle = 'color: ' + ( chatgpt.isDarkMode() ? '#c67afb' : '#8325c4' ) // purple
                const aboutModalID = siteAlert(
                    app.msgs.appName, // title
                    `<span style="${headingStyle}"><b>üè∑Ô∏è <i>${app.msgs.about_version}</i></b>: </span>`
                        + `<span style="${pStyle}">${GM_info.script.version}</span>\n`
                    + `<span style="${headingStyle}"><b>‚ö° <i>${app.msgs.about_poweredBy}</i></b>: </span>`
                        + `<span style="${pStyle}"><a style="${aStyle}" href="${app.urls.chatgptJS}" target="_blank" rel="noopener">`
                        + 'chatgpt.js</a>' + ( chatgptJSver ? ( ' v' + chatgptJSver ) : '' ) + '</span>\n'
                    + `<span style="${headingStyle}"><b>üìú <i>${app.msgs.about_sourceCode}</i></b>:</span>\n`
                        + `<span style="${pBrStyle}"><a href="${app.urls.gitHub}" target="_blank" rel="nopener">`
                        + app.urls.gitHub + '</a></span>',
                    [ // buttons
                        function checkForUpdates() { updateCheck() },
                        function getSupport() { modals.safeWinOpen(app.urls.support) },
                        function rateUs() { modals.feedback.show() },
                        function moreChatGPTapps() { modals.safeWinOpen(app.urls.relatedApps) }
                    ], '', 478 // set width
                )
        
                // Re-format buttons to include emoji + localized label + hide Dismiss button
                for (const button of document.getElementById(aboutModalID).querySelectorAll('button')) {
                    if (/updates/i.test(button.textContent)) button.textContent = (
                        'üöÄ ' + ( app.msgs.btnLabel_updateCheck ))
                    else if (/support/i.test(button.textContent)) button.textContent = (
                        'üß† ' + ( app.msgs.btnLabel_getSupport ))
                    else if (/rate/i.test(button.textContent)) button.textContent = (
                        '‚≠ê ' + ( app.msgs.btnLabel_rateUs ))
                    else if (/apps/i.test(button.textContent)) button.textContent = (
                        'ü§ñ ' + ( app.msgs.btnLabel_moreApps ))
                    else button.style.display = 'none' // hide Dismiss button
                }
            }        
        },

        donate: {
            longCOVIDwikiLink: 'https://en.wikipedia.org/wiki/Long_COVID',

            show() {
                modals.stack.unshift('donate') ; modals.stack = [...new Set(modals.stack)] // track for nav

                // Show alert
                const donateModalID = siteAlert(
                    `üíñ ${app.msgs.alert_showYourSupport}`, // title
                        `<p>${app.msgs.appName} ${app.msgs.alert_isOSS}.</p>`
                      + `<p>${app.msgs.alert_despiteAffliction} `
                          + `<a target="_blank" rel="noopener" href="${modals.donate.longCOVIDwikiLink}">${app.msgs.alert_longCOVID}</a> `
                          + `${app.msgs.alert_since2020}, ${app.msgs.alert_byDonatingResults}.</p>`
                      + `<p>${app.msgs.alert_yourContrib}, <b>${app.msgs.alert_noMatterSize}</b>, ${app.msgs.alert_directlySupports}.</p>`
                      + `<p>${app.msgs.alert_tyForSupport}!</p>`
                      + `<img src="https://cdn.jsdelivr.net/gh/adamlui/adamlui/images/siggie/${ chatgpt.isDarkMode() ? 'white' : 'black' }.png"`
                          + ' style="height: 54px ; margin: 5px 0 -2px 5px"></img>'
                      + `<p>‚Äî<b><a target="_blank" rel="noopener" href="${app.author.url}">${app.msgs.appAuthor}</a></b>, ${app.msgs.alert_author}</p>`,
                    [ // buttons
                        function paypal() { modals.safeWinOpen(app.urls.donate.payPal) },
                        function githubSponsors() { modals.safeWinOpen(app.urls.donate.gitHub) },
                        function cashApp() { modals.safeWinOpen(app.urls.donate.cashApp) },
                        function rateUs() { modals.feedback.show() }
                    ], '', 478 // set width
                )

                // Format text
                const donateModal = document.getElementById(donateModalID)
                donateModal.querySelectorAll('p').forEach(p => // v-pad text, shrink line height
                    p.style.cssText = 'padding: 8px 0 ; line-height: 20px')

                // Format buttons
                const btns = donateModal.querySelectorAll('button')
                btns.forEach((btn, idx) => {
                    if (idx == 0) btn.style.display = 'none' // hide Dismiss button
                    else {
                        btn.style.cssText = 'padding: 8px 6px !important ; margin-top: -14px ; width: 107px ; line-height: 14px'
                        if (idx == btns.length -1) // de-emphasize right-most button
                            btn.classList.remove('primary-modal-btn')
                        else if (/rate/i.test(btn.textContent)) // localize 'Rate Us' label
                            btn.textContent = app.msgs.btnLabel_rateUs
                    }
                })
            }
        },

        feedback: {
            show() {
                const reviewModalID = chatgpt.alert(
                    `${app.msgs.alert_choosePlatform}:`, '', // title
                    [ // buttons
                        function greasyFork() { modals.safeWinOpen(app.urls.greasyFork + '/feedback#post-discussion') },
                        function productHunt() { modals.safeWinOpen(app.urls.productHunt + '/reviews/new') },
                        function alternativeTo() { modals.safeWinOpen(app.urls.alternativeTo + '/about/') }
                    ]
                )
                const reviewModal = document.getElementById(reviewModalID)
                reviewModal.querySelector('button').style.display = 'none' // hide Dismiss button
                reviewModal.addEventListener('DOMNodeRemoved', () => modals[modals.stack[0]]?.show() ) // nav back on btn/bg clicks
            }
        },

        safeWinOpen(url) { window.open(url, '_blank', 'noopener') } // to prevent backdoor vulnerabilities
    }

    // Define UI functions

    const navToggle = {
        async insert() {

            // Insert toggle
            const toggleParent = document.querySelector('nav')
            if (!toggleParent.contains(navToggleDiv))
                toggleParent.insertBefore(navToggleDiv, toggleParent.children[1])
    
            // Tweak styles
            navToggleDiv.style.flexGrow = 'unset' // overcome OpenAI .grow
            navToggleDiv.style.paddingLeft = '8px'
            document.getElementById('infinity-toggle-knob-span').style.boxShadow = (
                'rgba(0, 0, 0, .3) 0 1px 2px 0' + ( chatgpt.isDarkMode() ? ', rgba(0, 0, 0, .15) 0 3px 6px 2px' : '' ))
            const navicon = document.getElementById('infinity-toggle-navicon')
            if (navicon) navicon.src = `${ // update navicon color in case scheme changed
                app.urls.mediaHost}/images/icons/infinity-symbol/`
              + `${ chatgpt.isDarkMode() ? 'white' : 'black' }/icon32.png?${app.latestAssetCommitHash}`
        },

        update() {

            // Create/size/position navicon
            const navicon = document.getElementById('infinity-toggle-navicon')
                         || dom.create.elem('img', { id: 'infinity-toggle-navicon' })
            navicon.style.width = navicon.style.height = '1.25rem'
            navicon.style.marginLeft = '2px' ; navicon.style.marginRight = '4px'
    
            // Create/ID/disable/hide/update checkbox
            const toggleInput = document.getElementById('infinity-toggle-input')
                             || dom.create.elem('input', { id: 'infinity-toggle-input', type: 'checkbox', disabled: true })
            toggleInput.style.display = 'none' ; toggleInput.checked = config.infinityMode
    
            // Create/ID/stylize switch
            const switchSpan = document.getElementById('infinity-switch-span')
                            || dom.create.elem('span', { id: 'infinity-switch-span' })
            const switchStyles = {
                position: 'relative', left: `${ env.browser.isMobile ? 211 : !ui.firstLink ? 160 : 154 }px`,
                backgroundColor: toggleInput.checked ? '#ccc' : '#AD68FF', // init opposite  final color
                bottom: `${ !ui.firstLink ? -0.15 : env.browser.isFF ? 0.05 : 0 }em`,
                width: '30px', height: '15px', '-webkit-transition': '.4s', transition: '0.4s',  borderRadius: '28px'
            }
            Object.assign(switchSpan.style, switchStyles)
    
            // Create/stylize knob, append to switch
            const knobSpan = document.getElementById('infinity-toggle-knob-span')
                          || dom.create.elem('span', { id: 'infinity-toggle-knob-span' })
            const knobStyles = {
                position: 'absolute', left: '3px', bottom: '1.25px',
                width: '12px', height: '12px', content: '""', borderRadius: '28px',
                transform: toggleInput.checked ? // init opposite final pos
                    'translateX(0)' : 'translateX(13px) translateY(0)',
                backgroundColor: 'white',  '-webkit-transition': '0.4s', transition: '0.4s'
            }
            Object.assign(knobSpan.style, knobStyles) ; switchSpan.append(knobSpan)
    
            // Create/stylize/fill label
            const toggleLabel = document.getElementById('infinity-toggle-label')
                             || dom.create.elem('label', { id: 'infinity-toggle-label' })
            if (!ui.firstLink) { // add font size/weight since no ui.firstLink to borrow from
                toggleLabel.style.fontSize = '0.875rem' ; toggleLabel.style.fontWeight = 600 }
            toggleLabel.style.marginLeft = `-${ !ui.firstLink ? 23 : 41 }px` // left-shift to navicon
            toggleLabel.style.cursor = 'pointer' // add finger cursor on hover
            toggleLabel.style.width = `${ env.browser.isMobile ? 201 : 148 }px` // to truncate overflown text
            toggleLabel.style.overflow = 'hidden' // to truncate overflown text
            toggleLabel.style.textOverflow = 'ellipsis' // to truncate overflown text
            toggleLabel.innerText = ( app.msgs.menuLabel_infinityMode ) + ' '
                                  + ( toggleInput.checked ? ( app.msgs.state_enabled  || 'enabled' )
                                                          : ( app.msgs.state_disabled ))
            // Append elements
            for (const elem of [navicon, toggleInput, switchSpan, toggleLabel]) navToggleDiv.append(elem)
    
            // Update visual state
            navToggleDiv.style.display = config.toggleHidden ? 'none' : 'flex'
            setTimeout(() => {
                switchSpan.style.backgroundColor = toggleInput.checked ? '#ad68ff' : '#ccc'
                switchSpan.style.boxShadow = toggleInput.checked ? '2px 1px 9px #d8a9ff' : 'none'
                knobSpan.style.transform = toggleInput.checked ? 'translateX(13px) translateY(0)' : 'translateX(0)'
            }, 1) // min delay to trigger transition fx
        }
    }

    // Define INFINITY MODE functions

    const infinity = {

        async activate() {
            const activatePrompt = 'Generate a single random question'
                + ( config.replyLanguage ? ( ' in ' + config.replyLanguage ) : '' )
                + ( ' on ' + ( config.replyTopic == 'ALL' ? 'ALL topics' : 'the topic of ' + config.replyTopic ))
                + ' then answer it. Don\'t type anything else.'
            notify(`${app.msgs.menuLabel_infinityMode}: ${app.msgs.state_on.toUpperCase()}`)
            if (env.browser.isMobile && chatgpt.sidebar.isOn()) chatgpt.sidebar.hide()
            if (!new URL(location).pathname.startsWith('/g/')) // not on GPT page
                try { chatgpt.startNewChat() } catch (err) { return } // start new chat
            await new Promise(resolve => setTimeout(resolve, 500)) // sleep 500ms
            chatgpt.send(activatePrompt)
            await new Promise(resolve => setTimeout(resolve, 3000)) // sleep 3s
            if (!document.querySelector('[data-message-author-role]') // new chat reset due to OpenAI bug
                && config.infinityMode) // ...and toggle still active
                    chatgpt.send(activatePrompt) // ...so prompt again
            await new Promise(resolve => { // when stop btn missing
                // ...instead of await chatgpt.isIdle() since method waits for chat to start
                // but prev 3s sleep to fight OpenAI reset bug can be longer than start/stop
                new MutationObserver((_, obs) => {
                    if (!chatgpt.getStopBtn()) { obs.disconnect(); resolve() }
                }).observe(document.body, { childList: true, subtree: true })
            })
            if (config.infinityMode && !infinity.isActive) // double-check in case de-activated before scheduled
                infinity.isActive = setTimeout(infinity.continue, parseInt(config.replyInterval, 10) * 1000)
            settings.save('infinityMode', true)
        },

        async continue() {
            if (!config.autoScrollDisabled) try { chatgpt.scrollToBottom() } catch(err) {}
            chatgpt.send('Do it again.')
            await chatgpt.isIdle() // before starting delay till next iteration
            if (infinity.isActive) // replace timer
                infinity.isActive = setTimeout(infinity.continue, parseInt(config.replyInterval, 10) * 1000)
        },

        deactivate() {
            chatgpt.stop() ; clearTimeout(infinity.isActive) ; infinity.isActive = null
            document.getElementById('infinity-toggle-input').checked = false // for window listener
            notify(`${app.msgs.menuLabel_infinityMode}: ${app.msgs.state_off.toUpperCase()}`)
            settings.save('infinityMode', false)
        },

        async restart(options = { target: 'new' }) {
            if (options.target == 'new') {
                chatgpt.stop() ; document.getElementById('infinity-toggle-label').click() // toggle off
                setTimeout(() => { document.getElementById('infinity-toggle-label').click() }, 500) // toggle on
            } else {
                clearTimeout(infinity.isActive) ; infinity.isActive = null ; await chatgpt.isIdle()
                if (config.infinityMode && !infinity.isActive) // double-check in case de-activated before scheduled
                    infinity.isActive = setTimeout(infinity.continue, parseInt(config.replyInterval, 10) * 1000)
            }
        },

        toggle() { infinity[config.infinityMode ? 'activate' : 'deactivate']() }
    }

    // Define SYNC functions

    function syncConfigToUI() {
        navToggle.update() // based on config.toggleHidden + config.infinityMode
        menu.refresh() // symbols/suffixes
    }

    // Run MAIN routine

    // Create browser TOOLBAR MENU or DISABLE SCRIPT if extension installed
    const extensionInstalled = await Promise.race([
        new Promise(resolve => {
            (function checkExtensionInstalled() {
                if (document.querySelector('[cif-extension-installed]')) resolve(true)
                else setTimeout(checkExtensionInstalled, 200)
            })()
        }), new Promise(resolve => setTimeout(() => resolve(false), 1500))])
    if (extensionInstalled) { // disable script/menu
        GM_registerMenuCommand(`${menu.state.symbols[0]} ${app.msgs.menuLabel_disabled}`, () => {})
        return // exit script
    } else menu.register() // create functional menu

    // Init BROWSER/UI props
    await Promise.race([chatgpt.isLoaded(), new Promise(resolve => setTimeout(resolve, 5000))]) // initial UI loaded
    await chatgpt.sidebar.isLoaded()
    const ui = { firstLink: chatgpt.getNewChatLink() }

    // Add LISTENER to auto-disable Infinity Mode
    if (document.hidden != undefined) // ...if Page Visibility API supported
        document.onvisibilitychange = () => { if (config.infinityMode) { infinity.deactivate() ; syncConfigToUI() }}

    // Add/update TWEAKS style
    const tweaksStyleUpdated = 20240930 // datestamp of last edit for this file's `tweaksStyle`
    let tweaksStyle = document.getElementById('tweaks-style') // try to select existing style
    if (!tweaksStyle || parseInt(tweaksStyle.getAttribute('last-updated'), 10) < tweaksStyleUpdated) { // if missing or outdated
        if (!tweaksStyle) { // outright missing, create/id/attr/append it first
            tweaksStyle = document.createElement('style') ; tweaksStyle.id = 'tweaks-style'
            tweaksStyle.setAttribute('last-updated', tweaksStyleUpdated.toString())
            document.head.append(tweaksStyle)
        }
        tweaksStyle.innerText = (
            ( chatgpt.isDarkMode() ? '.chatgpt-modal > div { border: 1px solid white }' : '' )
          + '.chatgpt-modal button {'
              + 'font-size: 0.77rem ; text-transform: uppercase ;' // shrink/uppercase labels
              + `border: 2px dashed ${ chatgpt.isDarkMode() ? 'white' : 'black' } !important ; border-radius: 0 !important ;` // thiccen/square/dash borders
              + 'transition: transform 0.1s ease-in-out, box-shadow 0.1s ease-in-out ;' // smoothen hover fx
              + 'padding: 5px !important ; min-width: 102px }' // resize
          + '.chatgpt-modal button:hover {' // add zoom, re-scheme
              + 'transform: scale(1.055) ;'
              + ( chatgpt.isDarkMode() ? 'background-color: #2cff00 !important ; box-shadow: 2px 1px 54px #38ff00 !important ; color: black !important'
                                       : 'background-color: #c7ff006b !important ; box-shadow: 2px 1px 30px #97ff006b !important' ) + '}'
          + '.modal-buttons { margin-left: -13px !important }'
          + '* { scrollbar-width: thin }' // make FF scrollbar skinny to not crop toggle
        )
    }

    // Create NAV TOGGLE div, add styles
    const navToggleDiv = document.createElement('div')
    navToggleDiv.style.height = '37px'
    navToggleDiv.style.margin = '2px 0' // add v-margins
    navToggleDiv.style.userSelect = 'none' // prevent highlighting
    navToggleDiv.style.cursor = 'pointer' // add finger cursor
    navToggle.update() // create children

    if (ui.firstLink) { // borrow/assign CLASSES from sidebar div
        const firstIcon = ui.firstLink.querySelector('div:first-child'),
              firstLabel = ui.firstLink.querySelector('div:nth-child(2)')
        navToggleDiv.classList.add(...ui.firstLink.classList, ...(firstLabel?.classList || []))
        navToggleDiv.querySelector('img')?.classList.add(...(firstIcon?.classList || []))
    }

    navToggle.insert()

    // Add LISTENER to toggle switch/label/config/menu
    navToggleDiv.onclick = () => {
        const toggleInput = document.getElementById('infinity-toggle-input')
        toggleInput.checked = !toggleInput.checked
        settings.save('infinityMode', toggleInput.checked)
        syncConfigToUI() ; infinity.toggle()
    }

    // Auto-start if enabled
    if (config.autoStart) {
        const navToggleInput = document.getElementById('infinity-toggle-input')
        if (navToggleInput) navToggleInput.parentNode.click()
        else { infinity.activate() ; menu.refresh() }
    }

    // Monitor <html> to maintain NAV TOGGLE VISIBILITY on node changes
    new MutationObserver(mutations => { mutations.forEach(mutation => {
        if (mutation.type == 'childList' && mutation.addedNodes.length) navToggle.insert() })}
    ).observe(document.documentElement, { childList: true, subtree: true })

    // Disable distracting SIDEBAR CLICK-ZOOM effect
    if (!document.querySelector('[sidebar-click-zoom-observed]')) {
        new MutationObserver(mutations => mutations.forEach(({ target }) => {
            if (target.closest('[class*="sidebar"]') // include sidebar divs
                && !target.id.endsWith('-knob-span') // exclude our navToggle
                && target.style.transform != 'none' // click-zoom occurred
            ) target.style.transform = 'none'
        })).observe(document.body, { attributes: true, subtree: true, attributeFilter: [ 'style' ]})      
        document.documentElement.setAttribute('sidebar-click-zoom-observed', true)
    }

})()
